<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
  <link rel="icon" href="/favicon.png">
  <meta property="og:url" content="https://documentacion-laravel.com">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Documentación de Laravel en español">
  <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
  <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.bbed2d89.css" as="style"><link rel="preload" href="/assets/js/app.f387ad52.js" as="script"><link rel="preload" href="/assets/js/2.990e1128.js" as="script"><link rel="preload" href="/assets/js/32.73223720.js" as="script"><link rel="prefetch" href="/assets/js/10.44ab4722.js"><link rel="prefetch" href="/assets/js/11.78b6d97f.js"><link rel="prefetch" href="/assets/js/12.9917e9c0.js"><link rel="prefetch" href="/assets/js/13.79939c5a.js"><link rel="prefetch" href="/assets/js/14.bc5dd1ee.js"><link rel="prefetch" href="/assets/js/15.c7c45dbd.js"><link rel="prefetch" href="/assets/js/16.00e9190f.js"><link rel="prefetch" href="/assets/js/17.a9c33dfc.js"><link rel="prefetch" href="/assets/js/18.4733e962.js"><link rel="prefetch" href="/assets/js/19.2e5e13fb.js"><link rel="prefetch" href="/assets/js/20.48f98842.js"><link rel="prefetch" href="/assets/js/21.42e787b1.js"><link rel="prefetch" href="/assets/js/22.7b57e495.js"><link rel="prefetch" href="/assets/js/23.a067e9da.js"><link rel="prefetch" href="/assets/js/24.8306a108.js"><link rel="prefetch" href="/assets/js/25.1785f464.js"><link rel="prefetch" href="/assets/js/26.dda9c732.js"><link rel="prefetch" href="/assets/js/27.e83a3904.js"><link rel="prefetch" href="/assets/js/28.4f5cf6c7.js"><link rel="prefetch" href="/assets/js/29.1931bb7b.js"><link rel="prefetch" href="/assets/js/3.30493c81.js"><link rel="prefetch" href="/assets/js/30.4fbb6fae.js"><link rel="prefetch" href="/assets/js/31.1e2a7f03.js"><link rel="prefetch" href="/assets/js/33.ee9b0149.js"><link rel="prefetch" href="/assets/js/34.2271fc87.js"><link rel="prefetch" href="/assets/js/35.5dd3b963.js"><link rel="prefetch" href="/assets/js/36.dfbbbe9f.js"><link rel="prefetch" href="/assets/js/37.f947c337.js"><link rel="prefetch" href="/assets/js/38.a8fbe290.js"><link rel="prefetch" href="/assets/js/39.4f13654e.js"><link rel="prefetch" href="/assets/js/4.9a453c7f.js"><link rel="prefetch" href="/assets/js/40.44987436.js"><link rel="prefetch" href="/assets/js/41.ffeaaecc.js"><link rel="prefetch" href="/assets/js/42.1cb2ca09.js"><link rel="prefetch" href="/assets/js/43.f8967bee.js"><link rel="prefetch" href="/assets/js/44.01ba6aed.js"><link rel="prefetch" href="/assets/js/45.5682f82f.js"><link rel="prefetch" href="/assets/js/46.7dc056a1.js"><link rel="prefetch" href="/assets/js/47.219c3f33.js"><link rel="prefetch" href="/assets/js/48.cf428b4e.js"><link rel="prefetch" href="/assets/js/49.97798298.js"><link rel="prefetch" href="/assets/js/5.38dbe007.js"><link rel="prefetch" href="/assets/js/50.2deafb6a.js"><link rel="prefetch" href="/assets/js/51.ab871783.js"><link rel="prefetch" href="/assets/js/52.5a455ad4.js"><link rel="prefetch" href="/assets/js/53.e8a0e488.js"><link rel="prefetch" href="/assets/js/54.276254e3.js"><link rel="prefetch" href="/assets/js/55.b2d4c6f7.js"><link rel="prefetch" href="/assets/js/56.8d31262d.js"><link rel="prefetch" href="/assets/js/57.e7e24680.js"><link rel="prefetch" href="/assets/js/58.f5259110.js"><link rel="prefetch" href="/assets/js/59.d72c35a7.js"><link rel="prefetch" href="/assets/js/6.ed191a4e.js"><link rel="prefetch" href="/assets/js/60.9f7a279e.js"><link rel="prefetch" href="/assets/js/61.ffacd75c.js"><link rel="prefetch" href="/assets/js/62.2843486b.js"><link rel="prefetch" href="/assets/js/63.64e555e8.js"><link rel="prefetch" href="/assets/js/64.cb2299ba.js"><link rel="prefetch" href="/assets/js/65.250e40de.js"><link rel="prefetch" href="/assets/js/66.f0b4db89.js"><link rel="prefetch" href="/assets/js/67.a4f6642c.js"><link rel="prefetch" href="/assets/js/68.9b7f3d02.js"><link rel="prefetch" href="/assets/js/69.9294259a.js"><link rel="prefetch" href="/assets/js/7.0cb2a0f3.js"><link rel="prefetch" href="/assets/js/70.1300a81f.js"><link rel="prefetch" href="/assets/js/71.b4e46b4a.js"><link rel="prefetch" href="/assets/js/72.9989048c.js"><link rel="prefetch" href="/assets/js/73.4e0c189e.js"><link rel="prefetch" href="/assets/js/74.7142576b.js"><link rel="prefetch" href="/assets/js/75.35e1d50c.js"><link rel="prefetch" href="/assets/js/76.f5790e01.js"><link rel="prefetch" href="/assets/js/77.122e50d1.js"><link rel="prefetch" href="/assets/js/78.2141abb9.js"><link rel="prefetch" href="/assets/js/79.1735c2eb.js"><link rel="prefetch" href="/assets/js/8.e1ddfb93.js"><link rel="prefetch" href="/assets/js/80.93c70c3d.js"><link rel="prefetch" href="/assets/js/81.69672b0c.js"><link rel="prefetch" href="/assets/js/82.545c85de.js"><link rel="prefetch" href="/assets/js/83.341ab15e.js"><link rel="prefetch" href="/assets/js/84.d95a2048.js"><link rel="prefetch" href="/assets/js/85.aed738ad.js"><link rel="prefetch" href="/assets/js/86.54e00a2b.js"><link rel="prefetch" href="/assets/js/87.4113df55.js"><link rel="prefetch" href="/assets/js/9.17dd96ca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bbed2d89.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Conceptos de arquitectura</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ORM Eloquent</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eloquent.html" class="sidebar-link">Eloquent: Primeros Pasos</a></li><li><a href="/eloquent-relationships.html" class="sidebar-link">Eloquent: Relaciones</a></li><li><a href="/eloquent-collections.html" class="sidebar-link">Eloquent: Colecciones</a></li><li><a href="/eloquent-mutators.html" class="active sidebar-link">Eloquent: Mutators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#accesadores-y-mutadores" class="sidebar-link">Accesadores y mutadores</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#mutadores-de-fecha" class="sidebar-link">Mutadores de fecha</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#conversion-casting-de-atributos" class="sidebar-link">Conversión (casting) de atributos</a></li></ul></li><li><a href="/eloquent-resources.html" class="sidebar-link">Eloquent: Recursos API</a></li><li><a href="/eloquent-serialization.html" class="sidebar-link">Eloquent: Serialización</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="eloquent-mutators"><a class="header-anchor" href="#eloquent-mutators">#</a> Eloquent: Mutators</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#accessors-and-mutators">Accesadores y mutadores</a> <ul><li><a href="#defining-an-accessor">Definiendo un accesador</a></li> <li><a href="#defining-a-mutator">Definiendo un mutador</a></li></ul></li> <li><a href="#date-mutators">Mutadores de fecha</a></li> <li><a href="#attribute-casting">Conversión de atributos</a> <ul><li><a href="#array-and-json-casting">Conversión de arreglos y JSON</a></li> <li><a href="#date-casting">Conversión de fechas</a></li></ul></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion">#</a> Introducción</h2> <p>Los accesadores y mutadores permiten que des formato a los valores de atributos de Eloquent cuando los obtienes o estableces en las instancias de modelo. Por ejemplo, puede que te guste usar el <a href="/docs/%7B%7Bversion%7D%7D/encryption">encriptador de Laravel</a> para cifrar un valor mientras es almacenado en la base de datos y después descifrar automáticamente el atributo cuando accedes a él en un modelo de Eloquent.</p> <p>Además de los accesadores y los mutadores personalizados, Eloquent también puede convertir automáticamente campos de fecha a instancias <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<OutboundLink></OutboundLink></a> o incluso <a href="#attribute-casting">convertir campos de texto a JSON</a>.</p> <p><a name="accessors-and-mutators"></a></p> <h2 id="accesadores-y-mutadores"><a class="header-anchor" href="#accesadores-y-mutadores">#</a> Accesadores y mutadores</h2> <p><a name="defining-an-accessor"></a></p> <h3 id="definiendo-un-accesador"><a class="header-anchor" href="#definiendo-un-accesador">#</a> Definiendo un accesador</h3> <p>Para definir un accesador crea un método <code>getFooAttribute</code> en tu modelo, donde <code>Foo</code> es el nombre de la columna que deseas acceder en el formato Studly Case (Primera letra de cada palabra en mayúscula). En este ejemplo, definiremos un accesador para el atributo <code>first_name</code>. El accesador automáticamente será ejecutado por Eloquent al momento de intentar obtener el valor del atributo <code>first_name</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Get the user's first name.
    *
    * @param  string  $value
    * @return string
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getFirstNameAttribute</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Como puedes ver, el valor original de la columna es pasado al accesador, permitiéndote manipular y devolver el valor. Para acceder al valor del accesador, puedes acceder al atributo <code>first_name</code> en una instancia del modelo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$firstName</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span><span class="token punctuation">;</span>
</code></pre></div><p>También puedes usar accesadores para retornar nuevos valores computados de atributos existentes:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token comment">/**
* Get the user's full name.
*
* @return string
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getFullNameAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token double-quoted-string string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">last_name</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Si deseas que estos valores computados sean agregados a las representaciones de arreglo / JSON de tu modelo, <a href="https://laravel.com/docs/%7B%7Bversion%7D%7D/eloquent-serialization#appending-values-to-json" target="_blank" rel="noopener noreferrer">necesitarás adjuntarlos<OutboundLink></OutboundLink></a>.</p></div></div><p><a name="defining-a-mutator"></a></p> <h3 id="definiendo-un-mutador"><a href="#definiendo-un-mutador" class="header-anchor">#</a> Definiendo un mutador</h3> <p>Para definir un mutador, define un método <code>setFooAttribute</code> en tu modelo, donde <code>Foo</code> es el nombre de la columna que deseas acceder en el formato Studly Case (Primera letra de cada palabra en mayúscula). Así, otra vez, vamos a definir un mutador para el atributo <code>first_name</code>. Este mutador será ejecutado automáticamente cuando intentamos establecer el valor del atributo <code>first_name</code> en el modelo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Set the user's first name.
    *
    * @param  string  $value
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">setFirstNameAttribute</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attributes</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'first_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>El mutador recibirá el valor que está siendo establecido en el atributo, permitiéndote manipular el valor y establecer el valor manipulado en la propiedad <code>$attributes</code> interna del modelo Eloquent. Así, por ejemplo, si intentamos establecer el atributo <code>first_name</code> como <code>Sally</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Sally'</span><span class="token punctuation">;</span>
</code></pre></div><p>En este ejemplo, la función <code>setFirstNameAttribute</code> será ejecutada con el valor <code>Sally</code>. El mutador entonces aplicará la función <code>strtolower</code> al nombre y establecerá su valor resultante en el arreglo <code>$attributes</code> interno.</p> <p><a name="date-mutators"></a></p> <h2 id="mutadores-de-fecha"><a href="#mutadores-de-fecha" class="header-anchor">#</a> Mutadores de fecha</h2> <p>De forma predeterminada, Eloquent convertirá las columnas <code>created_at</code> y <code>updated_at</code> a instancias de <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, la cual extiende la clase <code>DateTime</code> de PHP para proporcionar una variedad de métodos útiles.  Puedes agregar atributos de fecha adicionales estableciendo la propiedad <code>$dates</code> de tu modelo.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be mutated to dates.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$dates</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'seen_at'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Puedes desactivar las marcas de tiempo (timestamps) predeterminadas <code>created_at</code> y<code>updated_at</code> configurando la propiedad pública <code>$timestamps</code> de tu modelo en <code>false</code>.</p></div> <p>Cuando una columna es considerada una fecha, puedes establecer su valor a una marca de tiempo UNIX, cadena de fecha (<code>Y-m-d</code>), cadena fecha-hora o una instancia <code>DateTime</code> / <code>Carbon</code>. El valor de la fecha será convertido y almacenado correctamente en tu base de datos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">deleted_at</span> <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Como se apreció anteriormente, al momento de obtener atributos que están listados en tu propiedad <code>$dates</code>, éstos serán automáticamente convertidos a instancias <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, permitiendo que uses cualquiera de los métodos de Carbon en tus atributos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">deleted_at</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="formatos-de-fecha"><a href="#formatos-de-fecha" class="header-anchor">#</a> Formatos de fecha</h4> <p>De forma predeterminada, las marcas de tiempo son formateadas como <code>'Y-m-d H:i:s'</code>. Si necesitas personalizar el formato de marca de tiempo, establece la propiedad <code>$dateFormat</code> en tu modelo. Esta propiedad determina como los atributos de fecha son almacenados en la base de datos así como también su formato cuando el modelo es serializado a un arreglo o JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Flight</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The storage format of the model's date columns.
    *
    * @var string
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$dateFormat</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'U'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="attribute-casting"></a></p> <h2 id="conversion-casting-de-atributos"><a href="#conversion-casting-de-atributos" class="header-anchor">#</a> Conversión (casting) de atributos</h2> <p>La propiedad <code>$casts</code> en tu modelo proporciona un método conveniente de convertir atributos a tipos de datos comunes. La propiedad <code>$casts</code> debería ser un arreglo donde la clave es el nombre del atributo que está siendo convertido y el valor es el tipo al que deseas convertir la columna. Los tipos de conversión soportados son: <code>integer</code>, <code>real</code>, <code>float</code>, <code>double</code>, <code>decimal:&lt;digits&gt;</code>, <code>string</code>, <code>boolean</code>, <code>object</code>, <code>array</code>, <code>collection</code>, <code>date</code>, <code>datetime</code>, and <code>timestamp</code>. Al convertir en <code>decimal</code>, debes definir el número de digitos (<code>decimal:2</code>).</p> <p>Para demostrar la conversión de atributos, vamos a convertir el atributo <code>is_admin</code>, el cual es almacenado en nuestra base de datos como un entero (<code>0</code> o <code>1</code>) a un valor booleano:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be cast to native types.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'is_admin'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'boolean'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Ahora el atributo <code>is_admin</code> será siempre convertido a un booleano cuando lo accedas, incluso si el valor subyacente es almacenado en la base de datos como un entero:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">is_admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="array-and-json-casting"></a></p> <h3 id="conversion-de-arreglos-y-json"><a href="#conversion-de-arreglos-y-json" class="header-anchor">#</a> Conversión de arreglos y JSON</h3> <p>El tipo de conversión <code>array</code> es particularmente útil al momento de trabajar con columnas que son almacenadas como JSON serializado. Por ejemplo, si tu base de datos tiene un tipo de campo <code>JSON</code> o <code>TEXT</code> que contiene JSON serializado, agregar la conversión <code>array</code> a ese atributo deserializará automáticamente el atributo a un arreglo PHP cuando lo accedas en tu modelo Eloquent:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be cast to native types.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'options'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'array'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que la conversión es definida, puedes acceder al atributo <code>options</code> y será automáticamente deserializado desde JSON a un arreglo PHP. Cuando establezcas el valor del atributo <code>options</code>, el arreglo dado será automáticamente serializado de vuelta en JSON para almacenamiento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$options</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">options</span><span class="token punctuation">;</span>

<span class="token variable">$options</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'key'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'value'</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">options</span> <span class="token operator">=</span> <span class="token variable">$options</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="date-casting"></a></p> <h3 id="conversion-de-fechas"><a href="#conversion-de-fechas" class="header-anchor">#</a> Conversión de fechas</h3> <p>Al usar el tipo de conversión <code>date</code> o<code>datetime</code>, puedes especificar el formato de la fecha. Este formato se utilizará cuando el <a href="/eloquent-serialization.html">modelo se serializa a un arreglo o JSON</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* The attributes that should be cast to native types.
*
* @var array
*/</span>
<span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'created_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'datetime:Y-m-d'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/eloquent-collections.html" class="prev">Eloquent: Colecciones</a></span> <span class="next"><a href="/eloquent-resources.html">Eloquent: Recursos API</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f387ad52.js" defer></script><script src="/assets/js/2.990e1128.js" defer></script><script src="/assets/js/32.73223720.js" defer></script>
  </body>
</html>
