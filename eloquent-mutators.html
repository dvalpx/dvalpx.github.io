<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
    <link rel="icon" href="/favicon.png">
    <script src="/custom.js"></script>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <meta property="og:url" content="https://documentacion-laravel.com">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Documentación de Laravel en español">
    <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.c83a6d64.css" as="style"><link rel="preload" href="/assets/js/app.453cd102.js" as="script"><link rel="preload" href="/assets/js/3.ec4a9ac9.js" as="script"><link rel="preload" href="/assets/js/29.2216658e.js" as="script"><link rel="prefetch" href="/assets/js/10.86963300.js"><link rel="prefetch" href="/assets/js/11.02d662f5.js"><link rel="prefetch" href="/assets/js/12.3015abcf.js"><link rel="prefetch" href="/assets/js/13.a1894a08.js"><link rel="prefetch" href="/assets/js/14.e50fbc03.js"><link rel="prefetch" href="/assets/js/15.c603bff6.js"><link rel="prefetch" href="/assets/js/16.5e1f421f.js"><link rel="prefetch" href="/assets/js/17.bda6ead2.js"><link rel="prefetch" href="/assets/js/18.b402dfe5.js"><link rel="prefetch" href="/assets/js/19.ade9a9aa.js"><link rel="prefetch" href="/assets/js/20.2df6cfda.js"><link rel="prefetch" href="/assets/js/21.56c189aa.js"><link rel="prefetch" href="/assets/js/22.d6fc6162.js"><link rel="prefetch" href="/assets/js/23.ad6262b4.js"><link rel="prefetch" href="/assets/js/24.2f8d3cf9.js"><link rel="prefetch" href="/assets/js/25.7ddac0e2.js"><link rel="prefetch" href="/assets/js/26.657fd254.js"><link rel="prefetch" href="/assets/js/27.7ff257b2.js"><link rel="prefetch" href="/assets/js/28.b4ed1588.js"><link rel="prefetch" href="/assets/js/30.1622e023.js"><link rel="prefetch" href="/assets/js/31.0e88a853.js"><link rel="prefetch" href="/assets/js/32.02ffd177.js"><link rel="prefetch" href="/assets/js/33.6832adab.js"><link rel="prefetch" href="/assets/js/34.f8fabc68.js"><link rel="prefetch" href="/assets/js/35.6c557188.js"><link rel="prefetch" href="/assets/js/36.a778d935.js"><link rel="prefetch" href="/assets/js/37.842a39f6.js"><link rel="prefetch" href="/assets/js/38.e99286be.js"><link rel="prefetch" href="/assets/js/39.ace761d0.js"><link rel="prefetch" href="/assets/js/4.6cf9f07a.js"><link rel="prefetch" href="/assets/js/40.3c85639e.js"><link rel="prefetch" href="/assets/js/41.3d0a022c.js"><link rel="prefetch" href="/assets/js/42.a25a8fcf.js"><link rel="prefetch" href="/assets/js/43.09f02f2c.js"><link rel="prefetch" href="/assets/js/44.d7d996a1.js"><link rel="prefetch" href="/assets/js/45.aab023f3.js"><link rel="prefetch" href="/assets/js/46.c01fee08.js"><link rel="prefetch" href="/assets/js/47.bb1017b4.js"><link rel="prefetch" href="/assets/js/48.a5ab6dc0.js"><link rel="prefetch" href="/assets/js/49.b95a4857.js"><link rel="prefetch" href="/assets/js/5.4bd4301f.js"><link rel="prefetch" href="/assets/js/50.2f705c7b.js"><link rel="prefetch" href="/assets/js/51.782cc529.js"><link rel="prefetch" href="/assets/js/52.c468366e.js"><link rel="prefetch" href="/assets/js/53.7e7ae22f.js"><link rel="prefetch" href="/assets/js/54.242847d0.js"><link rel="prefetch" href="/assets/js/55.996b67d9.js"><link rel="prefetch" href="/assets/js/56.45b6d9bc.js"><link rel="prefetch" href="/assets/js/57.99346def.js"><link rel="prefetch" href="/assets/js/58.831ff200.js"><link rel="prefetch" href="/assets/js/59.19eb5034.js"><link rel="prefetch" href="/assets/js/6.ebabde72.js"><link rel="prefetch" href="/assets/js/60.ffee3dbb.js"><link rel="prefetch" href="/assets/js/61.c260f4e3.js"><link rel="prefetch" href="/assets/js/62.90688dc4.js"><link rel="prefetch" href="/assets/js/63.d5d04582.js"><link rel="prefetch" href="/assets/js/64.51257cf5.js"><link rel="prefetch" href="/assets/js/65.f5b86d0c.js"><link rel="prefetch" href="/assets/js/66.66ec2e22.js"><link rel="prefetch" href="/assets/js/67.fac1a45f.js"><link rel="prefetch" href="/assets/js/68.064bc05b.js"><link rel="prefetch" href="/assets/js/69.b96a4b65.js"><link rel="prefetch" href="/assets/js/7.3694a647.js"><link rel="prefetch" href="/assets/js/70.cb8c9617.js"><link rel="prefetch" href="/assets/js/71.da75c24f.js"><link rel="prefetch" href="/assets/js/72.6409fdef.js"><link rel="prefetch" href="/assets/js/73.b39d84a0.js"><link rel="prefetch" href="/assets/js/74.abfa52b6.js"><link rel="prefetch" href="/assets/js/75.ba6aec92.js"><link rel="prefetch" href="/assets/js/76.3439c5cb.js"><link rel="prefetch" href="/assets/js/77.c13e02cd.js"><link rel="prefetch" href="/assets/js/78.407158c3.js"><link rel="prefetch" href="/assets/js/79.d7b0a132.js"><link rel="prefetch" href="/assets/js/8.0dd1f07e.js"><link rel="prefetch" href="/assets/js/80.db05f5e0.js"><link rel="prefetch" href="/assets/js/81.a8d47a45.js"><link rel="prefetch" href="/assets/js/9.19fda819.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4b42ec77.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c83a6d64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">
  Índice
</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">
  Glosario
</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">
  Créditos
</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">
  Descargar
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Otras versiones" class="dropdown-title"><span class="title">Otras versiones</span> <span class="arrow down"></span></button> <button type="button" aria-label="Otras versiones" class="mobile-dropdown-title"><span class="title">Otras versiones</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v7.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laravel 7
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/stydenet/laravel-spanish-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">
  Índice
</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">
  Glosario
</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">
  Créditos
</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">
  Descargar
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Otras versiones" class="dropdown-title"><span class="title">Otras versiones</span> <span class="arrow down"></span></button> <button type="button" aria-label="Otras versiones" class="mobile-dropdown-title"><span class="title">Otras versiones</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v7.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laravel 7
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/stydenet/laravel-spanish-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Conceptos de arquitectura</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ORM Eloquent</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eloquent.html" class="sidebar-link">Eloquent: Primeros Pasos</a></li><li><a href="/eloquent-relationships.html" class="sidebar-link">Eloquent: Relaciones</a></li><li><a href="/eloquent-collections.html" class="sidebar-link">Eloquent: Colecciones</a></li><li><a href="/eloquent-mutators.html" aria-current="page" class="active sidebar-link">Eloquent: Mutators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#accessors-y-mutators" class="sidebar-link">Accessors y mutators</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#mutators-de-fecha" class="sidebar-link">Mutators de fecha</a></li><li class="sidebar-sub-header"><a href="/eloquent-mutators.html#conversion-casting-de-atributos" class="sidebar-link">Conversión (casting) de atributos</a></li></ul></li><li><a href="/eloquent-resources.html" class="sidebar-link">Eloquent: Recursos API</a></li><li><a href="/eloquent-serialization.html" class="sidebar-link">Eloquent: Serialización</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="eloquent-mutators"><a class="header-anchor" href="#eloquent-mutators">#</a> Eloquent: Mutators</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#accessors-and-mutators">Accessors y mutators</a> <ul><li><a href="#defining-an-accessor">Definiendo un accessor</a></li> <li><a href="#defining-a-mutator">Definiendo un mutator</a></li></ul></li> <li><a href="#date-mutators">Mutators de fecha</a></li> <li><a href="#attribute-casting">Conversión de atributos</a> <ul><li><a href="#array-and-json-casting">Conversión de arreglos y JSON</a></li> <li><a href="#date-casting">Conversión de fechas</a></li></ul></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion">#</a> Introducción</h2> <p>Los accessors y mutators permiten que des formato a los valores de atributos de Eloquent cuando los obtienes o estableces en las instancias de modelo. Por ejemplo, puede que te guste usar el <RouterLink to="/encryption.html">encriptador de Laravel</RouterLink> para cifrar un valor mientras es almacenado en la base de datos y después descifrar automáticamente el atributo cuando accedes a él en un modelo de Eloquent.</p> <p>Además de los accessors y los mutators personalizados, Eloquent también puede convertir automáticamente campos de fecha a instancias <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<OutboundLink></OutboundLink></a> o incluso <a href="#attribute-casting">convertir campos de texto a JSON</a>.</p> <p><a name="accessors-and-mutators"></a></p> <h2 id="accessors-y-mutators"><a class="header-anchor" href="#accessors-y-mutators">#</a> Accessors y mutators</h2> <p><a name="defining-an-accessor"></a></p> <h3 id="definiendo-un-accessor"><a class="header-anchor" href="#definiendo-un-accessor">#</a> Definiendo un accessor</h3> <p>Para definir un accessor, crea un método <code>getFooAttribute</code> en tu modelo, donde <code>Foo</code> es el nombre de la columna que deseas acceder en el formato &quot;Studly Case&quot; (Primera letra de cada palabra en mayúscula). En este ejemplo, definiremos un accessor para el atributo <code>first_name</code>. El accessor automáticamente será ejecutado por Eloquent al momento de intentar obtener el valor del atributo <code>first_name</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Get the user's first name.
    *
    * @param  string  $value
    * @return string
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getFirstNameAttribute</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Como puedes ver, el valor original de la columna es pasado al accessor, permitiéndote manipular y devolver el valor. Para acceder al valor del accessor, puedes acceder al atributo <code>first_name</code> en una instancia del modelo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$firstName</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span><span class="token punctuation">;</span>
</code></pre></div><p>También puedes usar accessors para retornar nuevos valores computados de atributos existentes:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token comment">/**
* Get the user's full name.
*
* @return string
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getFullNameAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token double-quoted-string string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">last_name</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Si deseas que estos valores computados sean agregados a las representaciones de arreglo / JSON de tu modelo, <RouterLink to="/eloquent-serialization.html#appending-values-to-json">necesitarás adjuntarlos</RouterLink>.</p></div></div><p><a name="defining-a-mutator"></a></p> <h3 id="definiendo-un-mutator"><a href="#definiendo-un-mutator" class="header-anchor">#</a> Definiendo un mutator</h3> <p>Para definir un mutator, define un método <code>setFooAttribute</code> en tu modelo, donde <code>Foo</code> es el nombre de la columna que deseas acceder en el formato &quot;Studly Case&quot; (Primera letra de cada palabra en mayúscula). Así, otra vez, vamos a definir un mutator para el atributo <code>first_name</code>. Este mutator será ejecutado automáticamente cuando intentamos establecer el valor del atributo <code>first_name</code> en el modelo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Set the user's first name.
    *
    * @param  string  $value
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">setFirstNameAttribute</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attributes</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'first_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>El mutator recibirá el valor que está siendo establecido en el atributo, permitiéndote manipular el valor y establecer el valor manipulado en la propiedad <code>$attributes</code> interna del modelo Eloquent. Así, por ejemplo, si intentamos establecer el atributo <code>first_name</code> como <code>Sally</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">first_name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Sally'</span><span class="token punctuation">;</span>
</code></pre></div><p>En este ejemplo, la función <code>setFirstNameAttribute</code> será ejecutada con el valor <code>Sally</code>. El mutator entonces aplicará la función <code>strtolower</code> al nombre y establecerá su valor resultante en el arreglo <code>$attributes</code> interno.</p> <p><a name="date-mutators"></a></p> <h2 id="mutators-de-fecha"><a href="#mutators-de-fecha" class="header-anchor">#</a> Mutators de fecha</h2> <p>De forma predeterminada, Eloquent convertirá las columnas <code>created_at</code> y <code>updated_at</code> a instancias de <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, la cual extiende la clase <code>DateTime</code> de PHP para proporcionar una variedad de métodos útiles.  Puedes agregar atributos de fecha adicionales estableciendo la propiedad <code>$dates</code> de tu modelo:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be mutated to dates.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$dates</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'seen_at'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Puedes desactivar las marcas de tiempo (timestamps) predeterminadas <code>created_at</code> y <code>updated_at</code> configurando la propiedad pública <code>$timestamps</code> de tu modelo en <code>false</code>.</p></div> <p>Cuando una columna es considerada una fecha, puedes establecer su valor a una marca de tiempo UNIX, cadena de fecha (<code>Y-m-d</code>), cadena fecha-hora o una instancia <code>DateTime</code> / <code>Carbon</code>. El valor de la fecha será convertido y almacenado correctamente en tu base de datos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">deleted_at</span> <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Como se apreció anteriormente, al momento de obtener atributos que están listados en tu propiedad <code>$dates</code>, éstos serán automáticamente convertidos a instancias <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, permitiendo que uses cualquiera de los métodos de Carbon en tus atributos:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">deleted_at</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="formatos-de-fecha"><a href="#formatos-de-fecha" class="header-anchor">#</a> Formatos de fecha</h4> <p>De forma predeterminada, las marcas de tiempo son formateadas como <code>'Y-m-d H:i:s'</code>. Si necesitas personalizar el formato de marca de tiempo, establece la propiedad <code>$dateFormat</code> en tu modelo. Esta propiedad determina cómo los atributos de fecha son almacenados en la base de datos, así como también su formato cuando el modelo es serializado a un arreglo o JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Flight</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The storage format of the model's date columns.
    *
    * @var string
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$dateFormat</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'U'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="attribute-casting"></a></p> <h2 id="conversion-casting-de-atributos"><a href="#conversion-casting-de-atributos" class="header-anchor">#</a> Conversión (casting) de atributos</h2> <p>La propiedad <code>$casts</code> en tu modelo proporciona un método conveniente de convertir atributos a tipos de datos comunes. La propiedad <code>$casts</code> debería ser un arreglo donde la clave es el nombre del atributo que está siendo convertido y el valor es el tipo al que deseas convertir la columna. Los tipos de conversión soportados son: <code>integer</code>, <code>real</code>, <code>float</code>, <code>double</code>, <code>decimal:&lt;digits&gt;</code>, <code>string</code>, <code>boolean</code>, <code>object</code>, <code>array</code>, <code>collection</code>, <code>date</code>, <code>datetime</code> y <code>timestamp</code>. Al convertir en <code>decimal</code>, debes definir el número de digitos (<code>decimal:2</code>).</p> <p>Para demostrar la conversión de atributos, vamos a convertir el atributo <code>is_admin</code>, el cual es almacenado en nuestra base de datos como un entero (<code>0</code> o <code>1</code>) a un valor booleano:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be cast to native types.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'is_admin'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'boolean'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Ahora el atributo <code>is_admin</code> será siempre convertido a un booleano cuando lo accedas, incluso si el valor subyacente es almacenado en la base de datos como un entero:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">is_admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="array-and-json-casting"></a></p> <h3 id="conversion-de-arreglos-y-json"><a href="#conversion-de-arreglos-y-json" class="header-anchor">#</a> Conversión de arreglos y JSON</h3> <p>El tipo de conversión <code>array</code> es particularmente útil al momento de trabajar con columnas que son almacenadas como JSON serializado. Por ejemplo, si tu base de datos tiene un tipo de campo <code>JSON</code> o <code>TEXT</code> que contiene JSON serializado, agregar la conversión <code>array</code> a ese atributo deserializará automáticamente el atributo a un arreglo PHP cuando lo accedas en tu modelo Eloquent:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be cast to native types.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'options'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'array'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que la conversión es definida, puedes acceder al atributo <code>options</code> y será automáticamente deserializado desde JSON a un arreglo PHP. Cuando establezcas el valor del atributo <code>options</code>, el arreglo dado será automáticamente serializado de vuelta en JSON para el almacenamiento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$options</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">options</span><span class="token punctuation">;</span>

<span class="token variable">$options</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'key'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'value'</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">options</span> <span class="token operator">=</span> <span class="token variable">$options</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="date-casting"></a></p> <h3 id="conversion-de-fechas"><a href="#conversion-de-fechas" class="header-anchor">#</a> Conversión de fechas</h3> <p>Al usar el tipo de conversión <code>date</code> o <code>datetime</code>, puedes especificar el formato de la fecha. Este formato se utilizará cuando el <a href="/eloquent-serialization.html">modelo se serializa a un arreglo o JSON</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* The attributes that should be cast to native types.
*
* @var array
*/</span>
<span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'created_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'datetime:Y-m-d'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/stydenet/laravel-spanish-docs/edit/6.0_press/docs/eloquent-mutators.md" target="_blank" rel="noopener noreferrer">Editar esta página en GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Última actualización:</span> <span class="time">9/22/2020, 9:03:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/eloquent-collections.html" class="prev">
        Eloquent: Colecciones
      </a></span> <span class="next"><a href="/eloquent-resources.html">
        Eloquent: Recursos API
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.453cd102.js" defer></script><script src="/assets/js/3.ec4a9ac9.js" defer></script><script src="/assets/js/29.2216658e.js" defer></script>
  </body>
</html>
