<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VuePress</title>
    <meta name="generator" content="VuePress 1.8.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.f7a12d87.css" as="style"><link rel="preload" href="/assets/js/app.dba731dc.js" as="script"><link rel="preload" href="/assets/js/2.648c6578.js" as="script"><link rel="preload" href="/assets/js/55.2e54a7e8.js" as="script"><link rel="prefetch" href="/assets/js/10.20cff712.js"><link rel="prefetch" href="/assets/js/11.f0ca56a6.js"><link rel="prefetch" href="/assets/js/12.5865c9a5.js"><link rel="prefetch" href="/assets/js/13.8e509b37.js"><link rel="prefetch" href="/assets/js/14.2d9f5c97.js"><link rel="prefetch" href="/assets/js/15.b917edb6.js"><link rel="prefetch" href="/assets/js/16.a13d2a39.js"><link rel="prefetch" href="/assets/js/17.d6b71ec0.js"><link rel="prefetch" href="/assets/js/18.adbe50b4.js"><link rel="prefetch" href="/assets/js/19.a1638529.js"><link rel="prefetch" href="/assets/js/20.393f35ab.js"><link rel="prefetch" href="/assets/js/21.a9dd9148.js"><link rel="prefetch" href="/assets/js/22.087385e4.js"><link rel="prefetch" href="/assets/js/23.b6ce1d9c.js"><link rel="prefetch" href="/assets/js/24.a74b28c6.js"><link rel="prefetch" href="/assets/js/25.7a984c35.js"><link rel="prefetch" href="/assets/js/26.cf45c453.js"><link rel="prefetch" href="/assets/js/27.e36a56dc.js"><link rel="prefetch" href="/assets/js/28.358fc226.js"><link rel="prefetch" href="/assets/js/29.f4fd2139.js"><link rel="prefetch" href="/assets/js/3.40d230a8.js"><link rel="prefetch" href="/assets/js/30.564d0795.js"><link rel="prefetch" href="/assets/js/31.0691b4c8.js"><link rel="prefetch" href="/assets/js/32.088de00e.js"><link rel="prefetch" href="/assets/js/33.4d884bb7.js"><link rel="prefetch" href="/assets/js/34.c4be32cd.js"><link rel="prefetch" href="/assets/js/35.b78c77b2.js"><link rel="prefetch" href="/assets/js/36.ceed3144.js"><link rel="prefetch" href="/assets/js/37.f9d6aca2.js"><link rel="prefetch" href="/assets/js/38.67ad3e03.js"><link rel="prefetch" href="/assets/js/39.5e3e70a7.js"><link rel="prefetch" href="/assets/js/4.e81ef12f.js"><link rel="prefetch" href="/assets/js/40.0510efa5.js"><link rel="prefetch" href="/assets/js/41.4e2bcf98.js"><link rel="prefetch" href="/assets/js/42.ebc7d9c8.js"><link rel="prefetch" href="/assets/js/43.e5970289.js"><link rel="prefetch" href="/assets/js/44.f91a9970.js"><link rel="prefetch" href="/assets/js/45.603b4584.js"><link rel="prefetch" href="/assets/js/46.037dce36.js"><link rel="prefetch" href="/assets/js/47.fadd0db4.js"><link rel="prefetch" href="/assets/js/48.457d9287.js"><link rel="prefetch" href="/assets/js/49.da492613.js"><link rel="prefetch" href="/assets/js/5.dc790133.js"><link rel="prefetch" href="/assets/js/50.cab6e13d.js"><link rel="prefetch" href="/assets/js/51.0765def4.js"><link rel="prefetch" href="/assets/js/52.518165a7.js"><link rel="prefetch" href="/assets/js/53.1e887b4a.js"><link rel="prefetch" href="/assets/js/54.bc10b491.js"><link rel="prefetch" href="/assets/js/56.169c81e5.js"><link rel="prefetch" href="/assets/js/57.a4ef4ed1.js"><link rel="prefetch" href="/assets/js/58.78dc0897.js"><link rel="prefetch" href="/assets/js/59.f13515c7.js"><link rel="prefetch" href="/assets/js/6.de2c94ff.js"><link rel="prefetch" href="/assets/js/60.ebfdeb63.js"><link rel="prefetch" href="/assets/js/61.6523e015.js"><link rel="prefetch" href="/assets/js/62.cb19c9bd.js"><link rel="prefetch" href="/assets/js/63.6ae10337.js"><link rel="prefetch" href="/assets/js/64.50298a81.js"><link rel="prefetch" href="/assets/js/65.d1849c5b.js"><link rel="prefetch" href="/assets/js/66.caef6860.js"><link rel="prefetch" href="/assets/js/67.a2788988.js"><link rel="prefetch" href="/assets/js/68.1c43eae0.js"><link rel="prefetch" href="/assets/js/69.e16965c5.js"><link rel="prefetch" href="/assets/js/7.0466c7e3.js"><link rel="prefetch" href="/assets/js/70.e66fe735.js"><link rel="prefetch" href="/assets/js/71.6d49148f.js"><link rel="prefetch" href="/assets/js/72.c3d54f60.js"><link rel="prefetch" href="/assets/js/73.a2d3ebc6.js"><link rel="prefetch" href="/assets/js/74.f1ed7f47.js"><link rel="prefetch" href="/assets/js/75.5dd47c5c.js"><link rel="prefetch" href="/assets/js/76.634dc6b8.js"><link rel="prefetch" href="/assets/js/77.db030077.js"><link rel="prefetch" href="/assets/js/78.ef9b3a22.js"><link rel="prefetch" href="/assets/js/79.a9b05b84.js"><link rel="prefetch" href="/assets/js/8.0435cf5c.js"><link rel="prefetch" href="/assets/js/80.88069fe6.js"><link rel="prefetch" href="/assets/js/9.78ebe7b2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f7a12d87.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="desarrollo-de-paquetes"><a class="header-anchor" href="#desarrollo-de-paquetes">#</a> Desarrollo de Paquetes</h1> <ul><li><a href="#introduction">Introducción</a> <ul><li><a href="#a-note-on-facades">Una nota sobre facades</a></li></ul></li> <li><a href="#package-discovery">Descubrimiento de paquetes</a></li> <li><a href="#service-providers">Proveedores de servicios</a></li> <li><a href="#resources">Recursos</a> <ul><li><a href="#configuration">Configuración</a></li> <li><a href="#migrations">Migraciones</a></li> <li><a href="#factories">Factories</a></li> <li><a href="#routes">Rutas</a></li> <li><a href="#translations">Traducciones</a></li> <li><a href="#views">Vistas</a></li></ul></li> <li><a href="#commands">Comandos</a></li> <li><a href="#public-assets">Archivos públicos</a></li> <li><a href="#publishing-file-groups">Publicar grupos de archivos</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion">#</a> Introducción</h2> <p>Los paquetes son la forma principal de agregar funcionalidad a Laravel. Los paquetes pueden ser cualquier cosa, desde una estupenda manera de trabajar con fechas como <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<OutboundLink></OutboundLink></a>, o un framework completo de pruebas BDD como <a href="https://github.com/Behat/Behat" target="_blank" rel="noopener noreferrer">Behat<OutboundLink></OutboundLink></a>.</p> <p>Hay diferentes tipos de paquetes. Algunos paquetes son independientes, lo que significa que funcionan con cualquier framework de PHP. Carbon y Behat son ejemplos de paquetes independientes. Cualquiera de estos paquetes se puede usar con Laravel simplemente solicitándolos en el archivo <code>composer.json</code>.</p> <p>Por otro lado, otros paquetes están específicamente destinados para su uso con Laravel. Estos paquetes pueden tener rutas, controladores, vistas y configuraciones específicamente diseñadas para mejorar una aplicación Laravel. Esta guía cubre principalmente el desarrollo de aquellos paquetes que son específicos de Laravel.</p> <p><a name="a-note-on-facades"></a></p> <h3 id="una-nota-sobre-facades"><a class="header-anchor" href="#una-nota-sobre-facades">#</a> Una nota sobre facades</h3> <p>Al escribir una aplicación Laravel, generalmente no importa si usas interfaces o facades ya que ambos brindan niveles esencialmente iguales de capacidad de pruebas. Sin embargo, al escribir paquetes, tu paquete normalmente no tendrá acceso a todas las funciones helpers de prueba de Laravel. Si deseas escribir pruebas para el paquete como si existiera dentro de una típica aplicación Laravel, puedes usar el paquete <a href="https://github.com/orchestral/testbench" target="_blank" rel="noopener noreferrer">Orchestral Testbench<OutboundLink></OutboundLink></a>.</p> <p><a name="package-discovery"></a></p> <h2 id="descubrimiento-de-paquetes"><a class="header-anchor" href="#descubrimiento-de-paquetes">#</a> Descubrimiento de paquetes</h2> <p>En el archivo de configuración <code>config/app.php</code> de una aplicación Laravel, la opción <code>providers</code> define una lista de proveedores de servicios que Laravel debe cargar. Cuando alguien instala tu paquete normalmente querrás que tu proveedor de servicio sea incluido en esta lista. En lugar de requerir que los usuarios agreguen manualmente su proveedor de servicios a la lista, puede definir el proveedor en la sección <code>extra</code> del archivo <code>composer.json</code> de tu paquete. Además de los proveedores de servicios, también puedes enumerar los <RouterLink to="/facades.html">facades</RouterLink> que desees registrar:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token string double-quoted-string">&quot;extra&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string double-quoted-string">&quot;laravel&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string double-quoted-string">&quot;providers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string double-quoted-string">&quot;Barryvdh\\Debugbar\\ServiceProvider&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string double-quoted-string">&quot;aliases&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string double-quoted-string">&quot;Debugbar&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Barryvdh\\Debugbar\\Facade&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Una vez que tu paquete se haya configurado para su descubrimiento, Laravel registrará automáticamente sus proveedores de servicios y facades cuando esté instalado, creando una experiencia de instalación conveniente para los usuarios de tu paquete.</p> <h3 id="exclusion-del-descubrimiento-de-paquetes"><a class="header-anchor" href="#exclusion-del-descubrimiento-de-paquetes">#</a> Exclusión del descubrimiento de paquetes</h3> <p>Si eres es el consumidor de un paquete y deseas deshabilitar el descubrimiento de paquetes para un paquete, puedes incluir el nombre del paquete en la sección <code>extra</code> del archivo <code>composer.json</code> de tu aplicación Laravel:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token string double-quoted-string">&quot;extra&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string double-quoted-string">&quot;laravel&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string double-quoted-string">&quot;dont-discover&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string double-quoted-string">&quot;barryvdh/laravel-debugbar&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Puede deshabilitar el descubrimiento de paquetes para todos los paquetes usando el carácter <code>*</code> dentro de la directiva <code>dont-discover</code> de tu aplicación:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token string double-quoted-string">&quot;extra&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string double-quoted-string">&quot;laravel&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string double-quoted-string">&quot;dont-discover&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string double-quoted-string">&quot;*&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><a name="service-providers"></a></p> <h2 id="proveedores-de-servicios"><a class="header-anchor" href="#proveedores-de-servicios">#</a> Proveedores de servicios</h2> <p>Los <RouterLink to="/providers.html">proveedores de servicios</RouterLink> son la conexión entre tu paquete y Laravel. Un proveedor de servicios es responsable de enlazar cosas a Laravel con el <RouterLink to="/container.html">contenedor de servicios</RouterLink> e informar a Laravel dónde cargar los recursos del paquete como vistas, archivos de configuración, y archivos de configuración regional.</p> <p>Un Proveedor de servicios extiende de la clase <code>Illuminate\Support\ServiceProvider</code> y contiene dos métodos: <code>register</code> y <code>boot</code>. La clase base <code>ServiceProvider</code> está ubicada en el paquete de Composer <code>illuminate/support</code>, donde debemos especificar todas las dependencias de nuestro paquete. Para obtener más información sobre la estructura y el propósito de los proveedores de servicios, visita su <RouterLink to="/providers.html">documentación</RouterLink>.</p> <p><a name="resources"></a></p> <h2 id="recursos"><a class="header-anchor" href="#recursos">#</a> Recursos</h2> <p><a name="configuration"></a></p> <h3 id="configuracion"><a class="header-anchor" href="#configuracion">#</a> Configuración</h3> <p>Por lo general, deberás publicar el archivo de configuración de tu paquete en el propio directorio <code>config</code> de la aplicación. Esto permitirá a los usuarios sobrescribir fácilmente sus opciones de configuración predeterminadas. Para permitir que se publiquen tus archivos de configuración, debes llamar al método <code>publishes</code> desde el método <code>boot</code> de tu proveedor de servicios:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/config/courier.php'</span> <span class="token operator">=&gt;</span> <span class="token function">config_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'courier.php'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora, cuando los usuarios de tu paquete ejecuten el comando <code>vendor:publish</code> de Laravel, tu archivo se copiará a la ubicación de publicación especificada. Una vez que se haya publicado su configuración, se podrá acceder a sus valores como cualquier otro archivo de configuración:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$value</span> <span class="token operator">=</span> <span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'courier.option'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">Nota</p> <p>No debes definir funciones anónimas en tus archivos de configuración ya que no se pueden serializar correctamente cuando los usuarios ejecutan el comando Artisan <code>config:cache</code>.</p></div></div><h4 id="configuracion-predeterminada-del-paquete"><a href="#configuracion-predeterminada-del-paquete" class="header-anchor">#</a> Configuración predeterminada del paquete</h4> <p>También puedes combinar tu propio archivo de configuración de paquete con la copia publicada de la aplicación. Esto permitirá que los usuarios definan sólo las opciones que realmente desean sobrescribir en la copia publicada de la configuración. Para combinar las configuraciones, use el método <code>mergeConfigFrom</code> dentro del método <code>register</code> de tu proveedor de servicios:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Register any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">mergeConfigFrom</span><span class="token punctuation">(</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/config/courier.php'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'courier'</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">Nota</p> <p>Este método sólo combina el primer nivel del arreglo de configuración. Si los usuarios definen parcialmente un arreglo de configuración multidimensional, las opciones faltantes no se combinarán.</p></div> <p><a name="routes"></a></p> <h3 id="rutas"><a href="#rutas" class="header-anchor">#</a> Rutas</h3> <p>Si tu paquete contiene rutas, puede cargarlas usando el método <code>loadRoutesFrom</code>. Este método determinará automáticamente si las rutas de la aplicación se almacenan en caché y no cargará el archivo de rutas si las rutas ya se han almacenado en caché:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadRoutesFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/routes.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="migrations"></a></p> <h3 id="migraciones"><a href="#migraciones" class="header-anchor">#</a> Migraciones</h3> <p>Si tu paquete contiene <a href="/migraciones.html">migraciones de base de datos</a>, puedes usar el método <code>loadMigrationsFrom</code> para informarle a Laravel cómo cargarlas. El método <code>loadMigrationsFrom</code> acepta la ruta a las migraciones de tu paquete como su único argumento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadMigrationsFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/migrations'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Una vez que se hayan registrado las migraciones de tu paquete, éstas se ejecutarán automáticamente cuando se utilice el comando <code>php artisan migrate</code>. No es necesario exportarlas al directorio principal <code>database/migrations</code> de la aplicación.</p> <p><a name="factories"></a></p> <h3 id="factories"><a href="#factories" class="header-anchor">#</a> Factories</h3> <p>Si tu paquete contiene <a href="/database-testing.html#writing-factories">factories de bases de datos</a>, puedes usar el método <code>loadFactoriesFrom</code> para informar a Laravel de cómo cargarlos. El método <code>loadFactoriesFrom</code> acepta la ruta al factory de tu paquete como único argumento:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadFactoriesFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/factories'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Una vez que el factory de tu paquete ha sido registrado, puedes usarlos en tu aplicación:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">factory</span><span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified static-context">Package<span class="token punctuation">\</span>Namespace<span class="token punctuation">\</span>Model</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="translations"></a></p> <h3 id="traducciones"><a href="#traducciones" class="header-anchor">#</a> Traducciones</h3> <p>Si tu paquete contiene <a href="/localization.html">archivos de traducción</a> puedes usar el método <code>loadTranslationsFrom</code> para informarle a Laravel cómo cargarlos. Por ejemplo, si tu paquete se llama <code>courier</code>, debes agregar lo siguiente al método <code>boot</code> de tu proveedor de servicios:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadTranslationsFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/translations'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'courier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Las traducciones de paquetes se referencian usando la convención de sintaxis <code>package::file.line</code>. Por lo tanto, puedes cargar la línea <code>welcome</code> del paquete <code>courier</code> del archivo <code>messages</code> de la siguiente manera:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">trans</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'courier::messages.welcome'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="publicacion-de-traducciones"><a href="#publicacion-de-traducciones" class="header-anchor">#</a> Publicación de traducciones</h4> <p>Si deseas publicar las traducciones de tu paquete en el directorio <code>resources/lang/vendor</code> de la aplicación, puedes usar el método <code>publishes</code> del proveedor de servicios. El método <code>publishes</code> acepta un arreglo de rutas de paquetes y sus ubicaciones de publicación deseadas. Por ejemplo, para publicar los archivos de traducción para el paquete <code>courier</code>, puedes hacer lo siguiente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadTranslationsFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/translations'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'courier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/translations'</span> <span class="token operator">=&gt;</span> <span class="token function">resource_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lang/vendor/courier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora, cuando los usuarios de tu paquete ejecuten el comando Artisan <code>vendor:publish</code> de Laravel, las traducciones de tu paquete se publicarán en la ubicación de publicación especificada.</p> <p><a name="views"></a></p> <h3 id="vistas"><a href="#vistas" class="header-anchor">#</a> Vistas</h3> <p>Para registrar las <a href="/views.html">vistas</a> de tu paquete con Laravel, necesitas decirle a Laravel dónde están ubicadas. Puedes hacerlo utilizando el método <code>loadViewsFrom</code> del proveedor de servicios. El método <code>loadViewsFrom</code> acepta dos argumentos: la ruta a tus plantillas de vista y el nombre de tu paquete. Por ejemplo, si el nombre de tu paquete es <code>courier</code>, debes agregar lo siguiente al método <code>boot</code> de tu proveedor de servicios:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadViewsFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/views'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'courier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Las vistas de paquete se referencian usando la convención de sintaxis <code>package::view</code>. Entonces, una vez que la ubicación de las vistas se registra en un proveedor de servicios, puedes cargar la vista <code>admin</code> del paquete <code>courier</code> de la siguiente manera:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'admin'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'courier::admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="desactivar-vistas-del-paquete"><a href="#desactivar-vistas-del-paquete" class="header-anchor">#</a> Desactivar vistas del paquete</h4> <p>Cuando utilizas el método <code>loadViewsFrom</code>, Laravel en realidad registra dos ubicaciones para tus vistas: el directorio <code>resources/views/vendor</code> de la aplicación y el directorio que tu especificas. Entonces, usando el ejemplo <code>courier</code>, Laravel primero comprobará si el desarrollador ha proporcionado una versión personalizada de la vista en <code>resources/views/vendor/courier</code>. Entonces, si la vista no se ha personalizado, Laravel buscará en el directorio de las vistas del paquete que has colocado en el método <code>loadViewsFrom</code>. Esto facilita a los usuarios del paquete personalizar o sobrescribir las vistas de tu paquete.</p> <h4 id="publicacion-de-vistas"><a href="#publicacion-de-vistas" class="header-anchor">#</a> Publicación de vistas</h4> <p>Si desea que tus vistas estén disponibles para su publicación en el directorio <code>resources/views/vendor</code> de la aplicación, puedes usar el método <code>publishes</code> del proveedor de servicios. El método <code>publishes</code> acepta un arreglo de rutas de vista de paquete y sus ubicaciones de publicación deseadas:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">loadViewsFrom</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/views'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'courier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/views'</span> <span class="token operator">=&gt;</span> <span class="token function">resource_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'views/vendor/courier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora, cuando los usuarios de tu paquete ejecuten el comando Artisan <code>vendor:publish</code> de Laravel, las vistas de tu paquete se copiarán en la ubicación especificada.</p> <p><a name="commands"></a></p> <h2 id="comandos"><a href="#comandos" class="header-anchor">#</a> Comandos</h2> <p>Para registrar los comandos Artisan de tu paquete con Laravel, puedes usar el método <code>commands</code>. Este método espera un arreglo con los nombres de clases de comando. Una vez que los comandos han sido registrados, puedes ejecutarlos usando <a href="/artisan.html">Artisan CLI</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap the application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">app</span><span class="token operator">-&gt;</span><span class="token function">runningInConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">commands</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token class-name static-context">FooCommand</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token class-name static-context">BarCommand</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="public-assets"></a></p> <h2 id="archivos-publicos"><a href="#archivos-publicos" class="header-anchor">#</a> Archivos públicos</h2> <p>Tu paquete puede tener archivos como JavaScript, CSS e imágenes. Para publicar estos archivos en el directorio <code>public</code> de la aplicación, debes usar el método <code>publishes</code> del proveedor de servicios. En este ejemplo, también agregaremos una etiqueta de grupo de archivos <code>public</code>, que se puede usar para publicar grupos de archivos relacionados:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/path/to/assets'</span> <span class="token operator">=&gt;</span> <span class="token function">public_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'vendor/courier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora, cuando los usuarios de tu paquete ejecuten el comando <code>vendor:publish</code> tus archivos se copiarán en la ubicación especificada. Como normalmente necesitarás sobrescribir los archivos cada vez que se actualice el paquete, puedes usar el indicador <code>--force</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan <span class="token argument-name">vendor</span><span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>force
</code></pre></div><p><a name="publishing-file-groups"></a></p> <h2 id="publicar-grupos-de-archivos"><a href="#publicar-grupos-de-archivos" class="header-anchor">#</a> Publicar grupos de archivos</h2> <p>Es posible que desees publicar grupos de archivos y recursos de paquetes por separado. Por ejemplo, es posible que desees permitir que los usuarios publiquen los archivos de configuración de su paquete sin verse obligados a publicar los archivos de tu paquete. Puede hacer esto &quot;etiquetándolos&quot; cuando llames al método <code>publishes</code> del proveedor de servicios de un paquete. Por ejemplo, usemos etiquetas para definir dos grupos de publicación en el método <code>boot</code> de un proveedor de servicios de paquetes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
* Bootstrap any application services.
*
* @return void
*/</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/../config/package.php'</span> <span class="token operator">=&gt;</span> <span class="token function">config_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'package.php'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'config'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">publishes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/../database/migrations/'</span> <span class="token operator">=&gt;</span> <span class="token function">database_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'migrations'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'migrations'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ahora tus usuarios pueden publicar estos grupos por separado al hacer referencia a su etiqueta cuando ejecuten el comando <code>vendor:publish</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code>php artisan <span class="token argument-name">vendor</span><span class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span class="token operator">=</span>config
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.dba731dc.js" defer></script><script src="/assets/js/2.648c6578.js" defer></script><script src="/assets/js/55.2e54a7e8.js" defer></script>
  </body>
</html>
