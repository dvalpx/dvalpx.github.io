<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
  <link rel="icon" href="/favicon.png">
  <script src="/custom.js"></script>
  <meta property="og:url" content="https://documentacion-laravel.com">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Documentación de Laravel en español">
  <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
  <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.8f98ea46.css" as="style"><link rel="preload" href="/assets/js/app.b072dc38.js" as="script"><link rel="preload" href="/assets/js/2.63992075.js" as="script"><link rel="preload" href="/assets/js/35.d2b60085.js" as="script"><link rel="prefetch" href="/assets/js/10.80d149d4.js"><link rel="prefetch" href="/assets/js/11.1eeb425f.js"><link rel="prefetch" href="/assets/js/12.4548b528.js"><link rel="prefetch" href="/assets/js/13.8b40f885.js"><link rel="prefetch" href="/assets/js/14.cfee5e8e.js"><link rel="prefetch" href="/assets/js/15.92e42b9e.js"><link rel="prefetch" href="/assets/js/16.b71a68f2.js"><link rel="prefetch" href="/assets/js/17.fdfc87ba.js"><link rel="prefetch" href="/assets/js/18.610b070d.js"><link rel="prefetch" href="/assets/js/19.82103066.js"><link rel="prefetch" href="/assets/js/20.e44dc8b5.js"><link rel="prefetch" href="/assets/js/21.729f1ce4.js"><link rel="prefetch" href="/assets/js/22.85feb43c.js"><link rel="prefetch" href="/assets/js/23.0069662b.js"><link rel="prefetch" href="/assets/js/24.d529421c.js"><link rel="prefetch" href="/assets/js/25.535d78e0.js"><link rel="prefetch" href="/assets/js/26.6855a9fc.js"><link rel="prefetch" href="/assets/js/27.9da3d0dd.js"><link rel="prefetch" href="/assets/js/28.2e3f99e7.js"><link rel="prefetch" href="/assets/js/29.3baf8a2e.js"><link rel="prefetch" href="/assets/js/3.b61a1551.js"><link rel="prefetch" href="/assets/js/30.48232282.js"><link rel="prefetch" href="/assets/js/31.493ffbea.js"><link rel="prefetch" href="/assets/js/32.64be1fc2.js"><link rel="prefetch" href="/assets/js/33.a3469c84.js"><link rel="prefetch" href="/assets/js/34.7b089e00.js"><link rel="prefetch" href="/assets/js/36.0abe4f41.js"><link rel="prefetch" href="/assets/js/37.b7835aa9.js"><link rel="prefetch" href="/assets/js/38.f4506727.js"><link rel="prefetch" href="/assets/js/39.4fdb501d.js"><link rel="prefetch" href="/assets/js/4.4add04bb.js"><link rel="prefetch" href="/assets/js/40.a2e01ff4.js"><link rel="prefetch" href="/assets/js/41.58e0d53d.js"><link rel="prefetch" href="/assets/js/42.9b2e41ba.js"><link rel="prefetch" href="/assets/js/43.9cf98462.js"><link rel="prefetch" href="/assets/js/44.c324202d.js"><link rel="prefetch" href="/assets/js/45.4bd52040.js"><link rel="prefetch" href="/assets/js/46.a4c520c3.js"><link rel="prefetch" href="/assets/js/47.3af8e17f.js"><link rel="prefetch" href="/assets/js/48.e7d31ebc.js"><link rel="prefetch" href="/assets/js/49.007914fe.js"><link rel="prefetch" href="/assets/js/5.7972ef4b.js"><link rel="prefetch" href="/assets/js/50.1b5e481f.js"><link rel="prefetch" href="/assets/js/51.0dda1eae.js"><link rel="prefetch" href="/assets/js/52.15702808.js"><link rel="prefetch" href="/assets/js/53.c573e96f.js"><link rel="prefetch" href="/assets/js/54.c6daed3b.js"><link rel="prefetch" href="/assets/js/55.bffdb413.js"><link rel="prefetch" href="/assets/js/56.7acd4542.js"><link rel="prefetch" href="/assets/js/57.783555df.js"><link rel="prefetch" href="/assets/js/58.5ede006a.js"><link rel="prefetch" href="/assets/js/59.e726064d.js"><link rel="prefetch" href="/assets/js/6.93f69574.js"><link rel="prefetch" href="/assets/js/60.59c8a5d8.js"><link rel="prefetch" href="/assets/js/61.8c9b7e2f.js"><link rel="prefetch" href="/assets/js/62.12282796.js"><link rel="prefetch" href="/assets/js/63.89b7dfbc.js"><link rel="prefetch" href="/assets/js/64.9e08acd5.js"><link rel="prefetch" href="/assets/js/65.4ddce67e.js"><link rel="prefetch" href="/assets/js/66.b452f0c4.js"><link rel="prefetch" href="/assets/js/67.c6825c2f.js"><link rel="prefetch" href="/assets/js/68.df1b12ac.js"><link rel="prefetch" href="/assets/js/69.e3e96215.js"><link rel="prefetch" href="/assets/js/7.bcff243b.js"><link rel="prefetch" href="/assets/js/70.f6ada02b.js"><link rel="prefetch" href="/assets/js/71.5d3757c5.js"><link rel="prefetch" href="/assets/js/72.952ca222.js"><link rel="prefetch" href="/assets/js/73.ee25a23b.js"><link rel="prefetch" href="/assets/js/74.c0136324.js"><link rel="prefetch" href="/assets/js/75.850b2544.js"><link rel="prefetch" href="/assets/js/76.b3c0ea17.js"><link rel="prefetch" href="/assets/js/77.114a470f.js"><link rel="prefetch" href="/assets/js/78.4e76d09b.js"><link rel="prefetch" href="/assets/js/79.890e654b.js"><link rel="prefetch" href="/assets/js/8.73a320e2.js"><link rel="prefetch" href="/assets/js/80.3adbe27c.js"><link rel="prefetch" href="/assets/js/81.afa89ece.js"><link rel="prefetch" href="/assets/js/82.df6363d1.js"><link rel="prefetch" href="/assets/js/83.31b9acce.js"><link rel="prefetch" href="/assets/js/84.dd897244.js"><link rel="prefetch" href="/assets/js/85.23971d33.js"><link rel="prefetch" href="/assets/js/86.e88afa39.js"><link rel="prefetch" href="/assets/js/87.9a1218b5.js"><link rel="prefetch" href="/assets/js/9.c8997f1a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f98ea46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">
  Índice
</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">
  Glosario
</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">
  Créditos
</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">
  Descargar documentación
</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Inicio
</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">
  Índice
</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">
  Glosario
</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">
  Créditos
</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">
  Descargar documentación
</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Conceptos de arquitectura</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ORM Eloquent</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eloquent.html" class="sidebar-link">Eloquent: Primeros Pasos</a></li><li><a href="/eloquent-relationships.html" class="sidebar-link">Eloquent: Relaciones</a></li><li><a href="/eloquent-collections.html" class="sidebar-link">Eloquent: Colecciones</a></li><li><a href="/eloquent-mutators.html" class="sidebar-link">Eloquent: Mutators</a></li><li><a href="/eloquent-resources.html" class="sidebar-link">Eloquent: Recursos API</a></li><li><a href="/eloquent-serialization.html" class="active sidebar-link">Eloquent: Serialización</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#serializando-modelos-y-colecciones" class="sidebar-link">Serializando modelos y colecciones</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#ocultando-atributos-de-json" class="sidebar-link">Ocultando Atributos de JSON</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#anadiendo-valores-a-json" class="sidebar-link">Añadiendo Valores a JSON</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#serializacion-de-fecha" class="sidebar-link">Serialización de Fecha</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="eloquent-serializacion"><a class="header-anchor" href="#eloquent-serializacion">#</a> Eloquent: Serialización</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#serializing-models-and-collections">Serializando modelos y colecciones</a> <ul><li><a href="#serializing-to-arrays">Serializando a arreglos</a></li> <li><a href="#serializing-to-json">Serializando a JSON</a></li></ul></li> <li><a href="#hiding-attributes-from-json">Ocultando atributos de JSON</a></li> <li><a href="#appending-values-to-json">Añadiendo valores a JSON</a></li> <li><a href="#date-serialization">Serialización de fechas</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion">#</a> Introducción</h2> <p>Al momento de construir APIs JSON, con frecuencia necesitas convertir tus modelos y relaciones a arreglos o JSON. Eloquent incluye métodos convenientes para hacer estas conversiones, también como controlar cuáles atributos están incluidos en tus serializaciones.</p> <p><a name="serializing-models-and-collections"></a></p> <h2 id="serializando-modelos-y-colecciones"><a class="header-anchor" href="#serializando-modelos-y-colecciones">#</a> Serializando modelos y colecciones</h2> <p><a name="serializing-to-arrays"></a></p> <h3 id="serializando-a-arreglos"><a class="header-anchor" href="#serializando-a-arreglos">#</a> Serializando a arreglos</h3> <p>Para convertir un modelo y sus <RouterLink to="/eloquent-relationships.html">relaciones</RouterLink> cargadas a un arreglo, debes usar el método <code>toArray</code>. Este método es recursivo, ya que todos los atributos y todas las relaciones (incluyendo las relaciones de relaciones) serán convertidas a arreglos:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'roles'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para convertir solo los atributos de un modelo a un arreglo, usa el método <code>attributedToArray</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attributesToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>También puedes convertir <RouterLink to="/eloquent-collections.html">colecciones</RouterLink> completas de modelos en arreglos:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$users</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$users</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para convertir únicamente los atributos de un modelo a arreglo, usa el método <code>attributesToArray</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attributesToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="serializing-to-json"></a></p> <h3 id="serializando-a-json"><a class="header-anchor" href="#serializando-a-json">#</a> Serializando a JSON</h3> <p>Para convertir un modelo a JSON, deberías usar el método <code>toJson</code>. Igual que <code>toArray</code>, el método <code>toJson</code> es recursivo, así todos los atributos y relaciones serán convertidas a JSON. También puedes especificar las opciones de codificación JSON <a href="https://secure.php.net/manual/en/function.json-encode.php" target="_blank" rel="noopener noreferrer">soportadas por PHP<OutboundLink></OutboundLink></a>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token constant">JSON_PRETTY_PRINT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Alternativamente, puedes convertir un modelo o colección en una cadena, la cual ejecutará automáticamente el método <code>toJson</code> sobre el modelo o colección:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token variable">$user</span><span class="token punctuation">;</span>
</code></pre></div><p>Debido a que los modelos y colecciones son convertidos a JSON al momento de conversión a una cadena, puedes devolver objetos de Eloquent directamente desde las rutas o controladores de tu aplicación:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="relaciones"><a class="header-anchor" href="#relaciones">#</a> Relaciones</h4> <p>Cuando un modelo de Eloquent es convertido a JSON, las relaciones que sean cargadas serán incluidas automáticamente como atributos en el objeto JSON. Además, aunque los métodos de relación de Eloquent sean definidos usando &quot;camel case&quot;, un atributo JSON de la relación en su lugar se verá como &quot;snake case&quot;.</p> <p><a name="hiding-attributes-from-json"></a></p> <h2 id="ocultando-atributos-de-json"><a class="header-anchor" href="#ocultando-atributos-de-json">#</a> Ocultando Atributos de JSON</h2> <p>Algunas veces puedes querer limitar los atributos, tales como contraseñas, que están incluidos en la representación de arreglo o JSON de tu modelo. Para hacer eso, agrega una propiedad <code>$hidden</code> en tu modelo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be hidden for arrays.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$hidden</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><div class="custom-block danger"><p class="custom-block-title">Nota</p> <p>Al momento de ocultar relaciones, usa el nombre de método de la relación.</p></div></div><p>Alternativamente, puedes usar la propiedad <code>visible</code> para definir una lista blanca de atributos que deberían ser incluidos en la representación de arreglo y JSON de tu modelo. Todos los demás atributos estarán ocultos cuando el modelo sea convertido a un arreglo o JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be visible in arrays.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$visible</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'first_name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'last_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="modificando-la-visibilidad-de-atributos-temporalmente"><a href="#modificando-la-visibilidad-de-atributos-temporalmente" class="header-anchor">#</a> Modificando la visibilidad de atributos temporalmente</h4> <p>Si prefieres hacer visible algunos atributos típicamente ocultos en una instancia de modelo dado, puedes usar el método <code>makeVisible</code>. El método <code>makeVisible</code> devuelve la instancia de modelo para encadenar métodos de forma conveniente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeVisible</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attribute'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>De igual manera, si prefieres ocultar algunos atributos típicamente visibles en una instancia de modelo dado, puedes usar el método <code>makeHidden</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeHidden</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attribute'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="appending-values-to-json"></a></p> <h2 id="anadiendo-valores-a-json"><a href="#anadiendo-valores-a-json" class="header-anchor">#</a> Añadiendo Valores a JSON</h2> <p>Ocasionalmente, al momento de convertir modelos a un arreglo o JSON, puedes querer agregar atributos que no tienen una columna correspondiente en tu base de datos. Para hacer eso, primero define un <a href="/eloquent-mutators.html">accesador</a> para el valor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Get the administrator flag for the user.
    *
    * @return bool
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getIsAdminAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attributes</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token single-quoted-string string">'yes'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Después de crear el accesador, agrega el nombre del atributo a la propiedad <code>appends</code> en el modelo. Nota que los nombres de atributo son referenciados típicamente en &quot;snake_case&quot;, aun cuando el accesador sea definido usando &quot;camel case&quot;:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The accessors to append to the model's array form.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$appends</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que el atributo ha sido agregado a la lista <code>appends</code>, será incluido en ambas representaciones de arreglo y JSON del modelo. Los atributos en el arreglo <code>appends</code> también respetarán las configuraciones <code>visible</code> y <code>hidden</code> configuradas en el modelo.</p> <h4 id="anadiendo-en-tiempo-de-ejecucion"><a href="#anadiendo-en-tiempo-de-ejecucion" class="header-anchor">#</a> Añadiendo en tiempo de ejecución</h4> <p>Puedes indicar una única instancia de modelo que agregue atributos utilizando el método <code>append</code>. También usar el método <code>setAppends</code> para sobrescribir el arreglo completo de propiedades adjuntadas para una instancia de un modelo dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAppends</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="date-serialization"></a></p> <h2 id="serializacion-de-fecha"><a href="#serializacion-de-fecha" class="header-anchor">#</a> Serialización de Fecha</h2> <h4 id="personalizar-el-formato-de-la-fecha-por-atributo"><a href="#personalizar-el-formato-de-la-fecha-por-atributo" class="header-anchor">#</a> Personalizar el formato de la fecha por atributo</h4> <p>Puedes personalizar el formato de serialización de atributos de fecha de Eloquent individuales especificando el formato de la fecha en la <a href="/eloquent-mutators.html#attribute-casting">declaración de la conversión</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'birthday'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'date:Y-m-d'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'joined_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'datetime:Y-m-d H:00'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/eloquent-resources.html" class="prev">
        Eloquent: Recursos API
      </a></span> <span class="next"><a href="/testing.html">
        Pruebas: Primeros Pasos
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b072dc38.js" defer></script><script src="/assets/js/2.63992075.js" defer></script><script src="/assets/js/35.d2b60085.js" defer></script>
  </body>
</html>
