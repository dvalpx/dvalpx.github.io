<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
  <link rel="icon" href="/favicon.png">
  <meta property="og:url" content="https://documentacion-laravel.com">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Documentación de Laravel en español">
  <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
  <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.4452e631.css" as="style"><link rel="preload" href="/assets/js/app.985155ea.js" as="script"><link rel="preload" href="/assets/js/2.95e30eca.js" as="script"><link rel="preload" href="/assets/js/35.f71ab347.js" as="script"><link rel="prefetch" href="/assets/js/10.5aa80b97.js"><link rel="prefetch" href="/assets/js/11.9a3a60b0.js"><link rel="prefetch" href="/assets/js/12.c3ef89cf.js"><link rel="prefetch" href="/assets/js/13.2b548613.js"><link rel="prefetch" href="/assets/js/14.969ac064.js"><link rel="prefetch" href="/assets/js/15.461af2b6.js"><link rel="prefetch" href="/assets/js/16.0ae9577b.js"><link rel="prefetch" href="/assets/js/17.8b084319.js"><link rel="prefetch" href="/assets/js/18.13e15aaa.js"><link rel="prefetch" href="/assets/js/19.61cb17d8.js"><link rel="prefetch" href="/assets/js/20.acb5d533.js"><link rel="prefetch" href="/assets/js/21.36187e66.js"><link rel="prefetch" href="/assets/js/22.e27b53ae.js"><link rel="prefetch" href="/assets/js/23.fddf2ff1.js"><link rel="prefetch" href="/assets/js/24.b5213b18.js"><link rel="prefetch" href="/assets/js/25.98e6a7a0.js"><link rel="prefetch" href="/assets/js/26.2e1be5bc.js"><link rel="prefetch" href="/assets/js/27.21b40f4f.js"><link rel="prefetch" href="/assets/js/28.e47647cb.js"><link rel="prefetch" href="/assets/js/29.2cf748ff.js"><link rel="prefetch" href="/assets/js/3.9d335bc8.js"><link rel="prefetch" href="/assets/js/30.400caa2a.js"><link rel="prefetch" href="/assets/js/31.5414617a.js"><link rel="prefetch" href="/assets/js/32.3fc4c1a4.js"><link rel="prefetch" href="/assets/js/33.dd78ab8a.js"><link rel="prefetch" href="/assets/js/34.b44e4fcd.js"><link rel="prefetch" href="/assets/js/36.6f74d2cc.js"><link rel="prefetch" href="/assets/js/37.11c73434.js"><link rel="prefetch" href="/assets/js/38.af252946.js"><link rel="prefetch" href="/assets/js/39.c9ae7c3b.js"><link rel="prefetch" href="/assets/js/4.985c5425.js"><link rel="prefetch" href="/assets/js/40.4cf4256f.js"><link rel="prefetch" href="/assets/js/41.3e67b10c.js"><link rel="prefetch" href="/assets/js/42.e1f322af.js"><link rel="prefetch" href="/assets/js/43.cc8061d1.js"><link rel="prefetch" href="/assets/js/44.449985ae.js"><link rel="prefetch" href="/assets/js/45.bf54d619.js"><link rel="prefetch" href="/assets/js/46.17ae4329.js"><link rel="prefetch" href="/assets/js/47.3fefe35b.js"><link rel="prefetch" href="/assets/js/48.d111e4cd.js"><link rel="prefetch" href="/assets/js/49.e1ef5046.js"><link rel="prefetch" href="/assets/js/5.5cf74707.js"><link rel="prefetch" href="/assets/js/50.e20fd6fe.js"><link rel="prefetch" href="/assets/js/51.6bfffd22.js"><link rel="prefetch" href="/assets/js/52.15ae8c54.js"><link rel="prefetch" href="/assets/js/53.670d7cc0.js"><link rel="prefetch" href="/assets/js/54.5fbbc691.js"><link rel="prefetch" href="/assets/js/55.5f75e74a.js"><link rel="prefetch" href="/assets/js/56.2df3f2a6.js"><link rel="prefetch" href="/assets/js/57.e72ade55.js"><link rel="prefetch" href="/assets/js/58.21aa0eb8.js"><link rel="prefetch" href="/assets/js/59.4de780cb.js"><link rel="prefetch" href="/assets/js/6.b639de5d.js"><link rel="prefetch" href="/assets/js/60.f6c9a786.js"><link rel="prefetch" href="/assets/js/61.1bd17f59.js"><link rel="prefetch" href="/assets/js/62.69f03362.js"><link rel="prefetch" href="/assets/js/63.3458028f.js"><link rel="prefetch" href="/assets/js/64.62e9342e.js"><link rel="prefetch" href="/assets/js/65.393082e0.js"><link rel="prefetch" href="/assets/js/66.4dcd7293.js"><link rel="prefetch" href="/assets/js/67.0e6c4ae0.js"><link rel="prefetch" href="/assets/js/68.f049e5a6.js"><link rel="prefetch" href="/assets/js/69.c930c37a.js"><link rel="prefetch" href="/assets/js/7.7427aab1.js"><link rel="prefetch" href="/assets/js/70.134200c6.js"><link rel="prefetch" href="/assets/js/71.0651b9ce.js"><link rel="prefetch" href="/assets/js/72.d4dfc47f.js"><link rel="prefetch" href="/assets/js/73.c323df4b.js"><link rel="prefetch" href="/assets/js/74.f784df9c.js"><link rel="prefetch" href="/assets/js/75.10aa865c.js"><link rel="prefetch" href="/assets/js/76.02dc8648.js"><link rel="prefetch" href="/assets/js/77.f8a3570e.js"><link rel="prefetch" href="/assets/js/78.8d7872c4.js"><link rel="prefetch" href="/assets/js/79.1a60f78c.js"><link rel="prefetch" href="/assets/js/8.155134ab.js"><link rel="prefetch" href="/assets/js/80.84cd96c9.js"><link rel="prefetch" href="/assets/js/81.3f4e8d90.js"><link rel="prefetch" href="/assets/js/82.870cf913.js"><link rel="prefetch" href="/assets/js/83.a35a4332.js"><link rel="prefetch" href="/assets/js/84.0d3a41de.js"><link rel="prefetch" href="/assets/js/85.3757b1ab.js"><link rel="prefetch" href="/assets/js/86.9dc8c7a9.js"><link rel="prefetch" href="/assets/js/9.e9bf00ca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4452e631.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Conceptos de arquitectura</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ORM Eloquent</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eloquent.html" class="sidebar-link">Eloquent: Primeros Pasos</a></li><li><a href="/eloquent-relationships.html" class="sidebar-link">Eloquent: Relaciones</a></li><li><a href="/eloquent-collections.html" class="sidebar-link">Eloquent: Colecciones</a></li><li><a href="/eloquent-mutators.html" class="sidebar-link">Eloquent: Mutators</a></li><li><a href="/eloquent-resources.html" class="sidebar-link">Eloquent: Recursos API</a></li><li><a href="/eloquent-serialization.html" class="active sidebar-link">Eloquent: Serialización</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#serializando-modelos-y-colecciones" class="sidebar-link">Serializando modelos y colecciones</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#ocultando-atributos-de-json" class="sidebar-link">Ocultando Atributos de JSON</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#anadiendo-valores-a-json" class="sidebar-link">Añadiendo Valores a JSON</a></li><li class="sidebar-sub-header"><a href="/eloquent-serialization.html#serializacion-de-fecha" class="sidebar-link">Serialización de Fecha</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="eloquent-serializacion"><a class="header-anchor" href="#eloquent-serializacion" aria-hidden="true">#</a> Eloquent: Serialización</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#serializing-models-and-collections">Serializando modelos y colecciones</a> <ul><li><a href="#serializing-to-arrays">Serializando a arreglos</a></li> <li><a href="#serializing-to-json">Serializando a JSON</a></li></ul></li> <li><a href="#hiding-attributes-from-json">Ocultando atributos de JSON</a></li> <li><a href="#appending-values-to-json">Añadiendo valores a JSON</a></li> <li><a href="#date-serialization">Serialización de fechas</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion" aria-hidden="true">#</a> Introducción</h2> <p>Al momento de construir APIs JSON, con frecuencia necesitas convertir tus modelos y relaciones a arreglos o JSON. Eloquent incluye métodos convenientes para hacer estas conversiones, también como controlar cuáles atributos están incluidos en tus serializaciones.</p> <p><a name="serializing-models-and-collections"></a></p> <h2 id="serializando-modelos-y-colecciones"><a class="header-anchor" href="#serializando-modelos-y-colecciones" aria-hidden="true">#</a> Serializando modelos y colecciones</h2> <p><a name="serializing-to-arrays"></a></p> <h3 id="serializando-a-arreglos"><a class="header-anchor" href="#serializando-a-arreglos" aria-hidden="true">#</a> Serializando a arreglos</h3> <p>Para convertir un modelo y sus <router-link to="/eloquent-relationships.html">relaciones</router-link> cargadas a un arreglo, debes usar el método <code>toArray</code>. Este método es recursivo, ya que todos los atributos y todas las relaciones (incluyendo las relaciones de relaciones) serán convertidas a arreglos:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'roles'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para convertir solo los atributos de un modelo a un arreglo, usa el método <code>attributedToArray</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attributesToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>También puedes convertir <router-link to="/eloquent-collections.html">colecciones</router-link> completas de modelos en arreglos:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$users</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$users</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="serializing-to-json"></a></p> <h3 id="serializando-a-json"><a class="header-anchor" href="#serializando-a-json" aria-hidden="true">#</a> Serializando a JSON</h3> <p>Para convertir un modelo a JSON, deberías usar el método <code>toJson</code>. Igual que <code>toArray</code>, el método <code>toJson</code> es recursivo, así todos los atributos y relaciones serán convertidas a JSON. También puedes especificar las opciones de codificación JSON <a href="https://secure.php.net/manual/en/function.json-encode.php" target="_blank" rel="noopener noreferrer">soportadas por PHP<OutboundLink></OutboundLink></a>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token constant">JSON_PRETTY_PRINT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Alternativamente, puedes convertir un modelo o colección en una cadena, la cual ejecutará automáticamente el método <code>toJson</code> sobre el modelo o colección:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token variable">$user</span><span class="token punctuation">;</span>
</code></pre></div><p>Debido a que los modelos y colecciones son convertidos a JSON al momento de conversión a una cadena, puedes devolver objetos de Eloquent directamente desde las rutas o controladores de tu aplicación:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> App\<span class="token package">User</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="relaciones"><a class="header-anchor" href="#relaciones" aria-hidden="true">#</a> Relaciones</h4> <p>Cuando un modelo de Eloquent es convertido a JSON, las relaciones que sean cargadas serán incluidas automáticamente como atributos en el objeto JSON. Además, aunque los métodos de relación de Eloquent sean definidos usando &quot;camel case&quot;, un atributo JSON de la relación en su lugar se verá como &quot;snake case&quot;.</p> <p><a name="hiding-attributes-from-json"></a></p> <h2 id="ocultando-atributos-de-json"><a class="header-anchor" href="#ocultando-atributos-de-json" aria-hidden="true">#</a> Ocultando Atributos de JSON</h2> <p>Algunas veces puedes querer limitar los atributos, tales como contraseñas, que están incluidos en la representación de arreglo o JSON de tu modelo. Para hacer eso, agrega una propiedad <code>$hidden</code> en tu modelo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be hidden for arrays.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$hidden</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">Nota</p> <p>Al momento de ocultar relaciones, usa el nombre de método de la relación.</p></div></div><p>Alternativamente, puedes usar la propiedad <code>visible</code> para definir una lista blanca de atributos que deberían ser incluidos en la representación de arreglo y JSON de tu modelo. Todos los demás atributos estarán ocultos cuando el modelo sea convertido a un arreglo o JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The attributes that should be visible in arrays.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$visible</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'first_name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'last_name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="modificando-la-visibilidad-de-atributos-temporalmente"><a href="#modificando-la-visibilidad-de-atributos-temporalmente" aria-hidden="true" class="header-anchor">#</a> Modificando la visibilidad de atributos temporalmente</h4> <p>Si prefieres hacer visible algunos atributos típicamente ocultos en una instancia de modelo dado, puedes usar el método <code>makeVisible</code>. El método <code>makeVisible</code> devuelve la instancia de modelo para encadenar métodos de forma conveniente:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeVisible</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attribute'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>De igual manera, si prefieres ocultar algunos atributos típicamente visibles en una instancia de modelo dado, puedes usar el método <code>makeHidden</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeHidden</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attribute'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="appending-values-to-json"></a></p> <h2 id="anadiendo-valores-a-json"><a href="#anadiendo-valores-a-json" aria-hidden="true" class="header-anchor">#</a> Añadiendo Valores a JSON</h2> <p>Ocasionalmente, al momento de convertir modelos a un arreglo o JSON, puedes querer agregar atributos que no tienen una columna correspondiente en tu base de datos. Para hacer eso, primero define un <a href="/eloquent-mutators.html">accesador</a> para el valor:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Get the administrator flag for the user.
    *
    * @return bool
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getIsAdminAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">attributes</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'yes'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Después de crear el accesador, agrega el nombre del atributo a la propiedad <code>appends</code> en el modelo. Nota que los nombres de atributo son referenciados típicamente en &quot;snake_case&quot;, aun cuando el accesador sea definido usando &quot;camel case&quot;:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * The accessors to append to the model's array form.
    *
    * @var array
    */</span>
    <span class="token keyword">protected</span> <span class="token variable">$appends</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que el atributo ha sido agregado a la lista <code>appends</code>, será incluido en ambas representaciones de arreglo y JSON del modelo. Los atributos en el arreglo <code>appends</code> también respetarán las configuraciones <code>visible</code> y <code>hidden</code> configuradas en el modelo.</p> <h4 id="anadiendo-en-tiempo-de-ejecucion"><a href="#anadiendo-en-tiempo-de-ejecucion" aria-hidden="true" class="header-anchor">#</a> Añadiendo en tiempo de ejecución</h4> <p>Puedes indicar una única instancia de modelo que agregue atributos utilizando el método <code>append</code>. También usar el método <code>setAppends</code> para sobrescribir el arreglo completo de propiedades adjuntadas para una instancia de un modelo dado:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAppends</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'is_admin'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="date-serialization"></a></p> <h2 id="serializacion-de-fecha"><a href="#serializacion-de-fecha" aria-hidden="true" class="header-anchor">#</a> Serialización de Fecha</h2> <h4 id="personalizar-el-formato-de-la-fecha-por-atributo"><a href="#personalizar-el-formato-de-la-fecha-por-atributo" aria-hidden="true" class="header-anchor">#</a> Personalizar el formato de la fecha por atributo</h4> <p>Puedes personalizar el formato de serialización de atributos de fecha de Eloquent individuales especificando el formato de la fecha en la <a href="/eloquent-mutators.html#attribute-casting">declaración de la conversión</a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">protected</span> <span class="token variable">$casts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'birthday'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'date:Y-m-d'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'joined_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'datetime:Y-m-d H:00'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="personalizacion-global-mediante-carbon"><a href="#personalizacion-global-mediante-carbon" aria-hidden="true" class="header-anchor">#</a> Personalización global mediante carbon</h4> <p>Laravel extiende la biblioteca de fechas <a href="https://github.com/briannesbitt/Carbon" target="_blank" rel="noopener noreferrer">Carbon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> con el propósito de proporcionar la personalización conveniente del formato de serialización de Carbon. Para personalizar la forma en que todas las fechas Carbon a través de tu aplicación sean serializadas, usa el método <code>Carbon::serializeUsing</code>. El método <code>serializeUsing</code> acepta una Closure la cual devuelve una representación en forma de cadena de la fecha para la serialización JSON:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Carbon</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AppServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Perform post-registration booting of services.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Carbon<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">serializeUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$carbon</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$carbon</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'U'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Register bindings in the container.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/eloquent-resources.html" class="prev">Eloquent: Recursos API</a></span> <span class="next"><a href="/testing.html">Pruebas: Primeros Pasos</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.985155ea.js" defer></script><script src="/assets/js/2.95e30eca.js" defer></script><script src="/assets/js/35.f71ab347.js" defer></script>
  </body>
</html>
