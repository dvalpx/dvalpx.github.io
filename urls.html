<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
  <link rel="icon" href="/favicon.png">
  <meta property="og:url" content="https://documentacion-laravel.com">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Documentación de Laravel en español">
  <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
  <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.4452e631.css" as="style"><link rel="preload" href="/assets/js/app.26ba176e.js" as="script"><link rel="preload" href="/assets/js/2.95e30eca.js" as="script"><link rel="preload" href="/assets/js/82.870cf913.js" as="script"><link rel="prefetch" href="/assets/js/10.5aa80b97.js"><link rel="prefetch" href="/assets/js/11.9a3a60b0.js"><link rel="prefetch" href="/assets/js/12.c3ef89cf.js"><link rel="prefetch" href="/assets/js/13.2b548613.js"><link rel="prefetch" href="/assets/js/14.969ac064.js"><link rel="prefetch" href="/assets/js/15.7559afa9.js"><link rel="prefetch" href="/assets/js/16.0ae9577b.js"><link rel="prefetch" href="/assets/js/17.8b084319.js"><link rel="prefetch" href="/assets/js/18.13e15aaa.js"><link rel="prefetch" href="/assets/js/19.61cb17d8.js"><link rel="prefetch" href="/assets/js/20.acb5d533.js"><link rel="prefetch" href="/assets/js/21.36187e66.js"><link rel="prefetch" href="/assets/js/22.e27b53ae.js"><link rel="prefetch" href="/assets/js/23.fddf2ff1.js"><link rel="prefetch" href="/assets/js/24.b5213b18.js"><link rel="prefetch" href="/assets/js/25.98e6a7a0.js"><link rel="prefetch" href="/assets/js/26.2e1be5bc.js"><link rel="prefetch" href="/assets/js/27.21b40f4f.js"><link rel="prefetch" href="/assets/js/28.e47647cb.js"><link rel="prefetch" href="/assets/js/29.2cf748ff.js"><link rel="prefetch" href="/assets/js/3.9d335bc8.js"><link rel="prefetch" href="/assets/js/30.400caa2a.js"><link rel="prefetch" href="/assets/js/31.5414617a.js"><link rel="prefetch" href="/assets/js/32.3fc4c1a4.js"><link rel="prefetch" href="/assets/js/33.dd78ab8a.js"><link rel="prefetch" href="/assets/js/34.5db530a2.js"><link rel="prefetch" href="/assets/js/35.f71ab347.js"><link rel="prefetch" href="/assets/js/36.6f74d2cc.js"><link rel="prefetch" href="/assets/js/37.11c73434.js"><link rel="prefetch" href="/assets/js/38.af252946.js"><link rel="prefetch" href="/assets/js/39.c9ae7c3b.js"><link rel="prefetch" href="/assets/js/4.985c5425.js"><link rel="prefetch" href="/assets/js/40.4cf4256f.js"><link rel="prefetch" href="/assets/js/41.3e67b10c.js"><link rel="prefetch" href="/assets/js/42.e1f322af.js"><link rel="prefetch" href="/assets/js/43.cc8061d1.js"><link rel="prefetch" href="/assets/js/44.7277bb54.js"><link rel="prefetch" href="/assets/js/45.382f7681.js"><link rel="prefetch" href="/assets/js/46.17ae4329.js"><link rel="prefetch" href="/assets/js/47.3fefe35b.js"><link rel="prefetch" href="/assets/js/48.d111e4cd.js"><link rel="prefetch" href="/assets/js/49.e1ef5046.js"><link rel="prefetch" href="/assets/js/5.5cf74707.js"><link rel="prefetch" href="/assets/js/50.9e7d4918.js"><link rel="prefetch" href="/assets/js/51.4706f986.js"><link rel="prefetch" href="/assets/js/52.eafd4035.js"><link rel="prefetch" href="/assets/js/53.1f3ca527.js"><link rel="prefetch" href="/assets/js/54.9db8561d.js"><link rel="prefetch" href="/assets/js/55.5f75e74a.js"><link rel="prefetch" href="/assets/js/56.6feffd4d.js"><link rel="prefetch" href="/assets/js/57.6f533868.js"><link rel="prefetch" href="/assets/js/58.21aa0eb8.js"><link rel="prefetch" href="/assets/js/59.1f5b2e8b.js"><link rel="prefetch" href="/assets/js/6.b639de5d.js"><link rel="prefetch" href="/assets/js/60.c3b37c7d.js"><link rel="prefetch" href="/assets/js/61.8243dcd6.js"><link rel="prefetch" href="/assets/js/62.69f03362.js"><link rel="prefetch" href="/assets/js/63.3458028f.js"><link rel="prefetch" href="/assets/js/64.2a943802.js"><link rel="prefetch" href="/assets/js/65.393082e0.js"><link rel="prefetch" href="/assets/js/66.4dcd7293.js"><link rel="prefetch" href="/assets/js/67.0e6c4ae0.js"><link rel="prefetch" href="/assets/js/68.f7dd2489.js"><link rel="prefetch" href="/assets/js/69.ea82a27c.js"><link rel="prefetch" href="/assets/js/7.7427aab1.js"><link rel="prefetch" href="/assets/js/70.134200c6.js"><link rel="prefetch" href="/assets/js/71.0651b9ce.js"><link rel="prefetch" href="/assets/js/72.d4dfc47f.js"><link rel="prefetch" href="/assets/js/73.c323df4b.js"><link rel="prefetch" href="/assets/js/74.f784df9c.js"><link rel="prefetch" href="/assets/js/75.10aa865c.js"><link rel="prefetch" href="/assets/js/76.02dc8648.js"><link rel="prefetch" href="/assets/js/77.f8a3570e.js"><link rel="prefetch" href="/assets/js/78.8d7872c4.js"><link rel="prefetch" href="/assets/js/79.1a60f78c.js"><link rel="prefetch" href="/assets/js/8.155134ab.js"><link rel="prefetch" href="/assets/js/80.84cd96c9.js"><link rel="prefetch" href="/assets/js/81.3f4e8d90.js"><link rel="prefetch" href="/assets/js/83.a35a4332.js"><link rel="prefetch" href="/assets/js/84.0d3a41de.js"><link rel="prefetch" href="/assets/js/85.3757b1ab.js"><link rel="prefetch" href="/assets/js/86.9dc8c7a9.js"><link rel="prefetch" href="/assets/js/9.e9bf00ca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4452e631.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Conceptos de arquitectura</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Fundamentos</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/routing.html" class="sidebar-link">Rutas</a></li><li><a href="/middleware.html" class="sidebar-link">Middleware</a></li><li><a href="/csrf.html" class="sidebar-link">Protección CSRF</a></li><li><a href="/controllers.html" class="sidebar-link">Controladores</a></li><li><a href="/requests.html" class="sidebar-link">Solicitudes HTTP</a></li><li><a href="/responses.html" class="sidebar-link">Respuestas HTTP</a></li><li><a href="/views.html" class="sidebar-link">Vistas</a></li><li><a href="/urls.html" class="active sidebar-link">Generación de URLs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/urls.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/urls.html#fundamentos" class="sidebar-link">Fundamentos</a></li><li class="sidebar-sub-header"><a href="/urls.html#urls-para-rutas-nombradas" class="sidebar-link">URLs para rutas nombradas</a></li><li class="sidebar-sub-header"><a href="/urls.html#urls-para-acciones-de-controlador" class="sidebar-link">URLs para acciones de controlador</a></li><li class="sidebar-sub-header"><a href="/urls.html#valores-predeterminados" class="sidebar-link">Valores predeterminados</a></li></ul></li><li><a href="/session.html" class="sidebar-link">Sesión HTTP</a></li><li><a href="/validation.html" class="sidebar-link">Validación</a></li><li><a href="/errors.html" class="sidebar-link">Manejo de errores</a></li><li><a href="/logging.html" class="sidebar-link">Registro (Logging)</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ORM Eloquent</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="generacion-de-urls"><a class="header-anchor" href="#generacion-de-urls" aria-hidden="true">#</a> Generación de URLs</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#the-basics">Fundamentos</a> <ul><li><a href="#generating-basic-urls">Generando URLs básicas</a></li> <li><a href="#accessing-the-current-url">Accediendo la URL actual</a></li></ul></li> <li><a href="#urls-for-named-routes">URLs para rutas nombradas</a> <ul><li><a href="#signed-urls">URLs firmadas</a></li></ul></li> <li><a href="#urls-for-controller-actions">URLs para acciones de controlador</a></li> <li><a href="#default-values">Valores predeterminados</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion" aria-hidden="true">#</a> Introducción</h2> <p>Laravel proporciona varios helpers para asistirte en la generación de URLs para tu aplicación. Éstos son útiles principalmente al momento de construir enlaces en tus plantillas y respuestas de API, o al momento de generar respuestas redireccionadas a otra parte de tu aplicación.</p> <p><a name="the-basics"></a></p> <h2 id="fundamentos"><a class="header-anchor" href="#fundamentos" aria-hidden="true">#</a> Fundamentos</h2> <p><a name="generating-basic-urls"></a></p> <h3 id="generando-urls-basicas"><a class="header-anchor" href="#generando-urls-basicas" aria-hidden="true">#</a> Generando URLs básicas</h3> <p>El helper <code>url</code> puede ser usado para generar URLs arbitrarias en tu aplicación. La URL generada utilizará automáticamente el esquema (HTTP o HTTPS) y el host de la solicitud actual:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$post</span> <span class="token operator">=</span> App\<span class="token package">Post</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;/posts/<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// http://example.com/posts/1</span>
</code></pre></div><p><a name="accessing-the-current-url"></a></p> <h3 id="accediendo-la-url-actual"><a class="header-anchor" href="#accediendo-la-url-actual" aria-hidden="true">#</a> Accediendo la URL actual</h3> <p>Si ninguna ruta es proporcionada al helper <code>url</code>, una instancia <code>Illuminate\Routing\UrlGenerator</code> es devuelta, permitiéndote que accedas información sobre la URL actual:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token comment">// Obtener la URL actual sin la cadena de consulta...</span>
<span class="token keyword">echo</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Obtener la URL actual incluyendo la cadena de consulta...</span>
<span class="token keyword">echo</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">full</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Obtener la URL completa de la solicitud anterior...</span>
<span class="token keyword">echo</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Cada uno de estos métodos también puede ser accedido por medio del <router-link to="/facades.html">facade</router-link> <code>URL</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>URL</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token constant">URL</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="urls-for-named-routes"></a></p> <h2 id="urls-para-rutas-nombradas"><a class="header-anchor" href="#urls-para-rutas-nombradas" aria-hidden="true">#</a> URLs para rutas nombradas</h2> <p>El helper <code>route</code> puede ser usado para generar URLs para rutas nombradas. Las rutas nombradas permiten generar URLs sin estar acopladas a la URL real definida en la ruta. Por lo tanto, si la URL de la ruta cambia, no es necesario realizar cambios en las llamadas a la función <code>route</code>. Por ejemplo, imagina que tu aplicación contiene una ruta definida de la siguiente forma:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/post/{post}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post.show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para generar una URL a esta ruta, puedes usar el helper <code>route</code> así:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">echo</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post.show'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// http://example.com/post/1</span>
</code></pre></div><p>Con frecuencia estarás generando URLs usando la clave primaria de <router-link to="/eloquent.html">modelos de Eloquent</router-link>. Por esta razón, puedes pasar modelos de Eloquent como valores de parámetros. El helper <code>route</code> extraerá automáticamente la clave primaria del modelo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">echo</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post.show'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$post</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>El helper <code>route</code> también se puede usar para generar URL para rutas con múltiples parámetros:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/post/{post}/comment/{comment}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'comment.show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'comment.show'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'post'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'comment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// http://example.com/post/1/comment/3</span>
</code></pre></div><p><a name="signed-urls"></a></p> <h3 id="urls-firmadas"><a class="header-anchor" href="#urls-firmadas" aria-hidden="true">#</a> URLs firmadas</h3> <p>Laravel te permite crear fácilmente URLs &quot;firmadas&quot; para rutas nombradas. Estas URLs tienen un hash de &quot;firma&quot; añadido a la cadena de solicitud que le permite a Laravel verificar que la URL no haya sido modificada desde que fue creada. Las URLs firmadas son especialmente útiles para rutas que están disponibles públicamente pero necesitan una capa de protección contra la manipulación de URLs.</p> <p>Por ejemplo, puedes usar URLs firmadas para implementar un enlace público de &quot;anular suscripción&quot; que es enviado por correo electrónico a tus clientes. Para crear una URL firmada para una ruta nombrada, usa el método <code>signedRoute</code> del facade <code>URL</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>URL</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token constant">URL</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">signedRoute</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'unsubscribe'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Si te gustaría generar una ruta firmada temporal que expira, puedes usar el método <code>temporarySignedRoute</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>URL</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token constant">URL</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">temporarySignedRoute</span><span class="token punctuation">(</span>
    <span class="token single-quoted-string string">'unsubscribe'</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addMinutes</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="validando-solicitudes-a-rutas-firmadas"><a class="header-anchor" href="#validando-solicitudes-a-rutas-firmadas" aria-hidden="true">#</a> Validando solicitudes a rutas firmadas</h4> <p>Para verificar que una solicitud entrate tiene una firma válida, debes llamar al método <code>hasValidSignature</code> en el <code>Request</code> entrante:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/unsubscribe/{user}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasValidSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">abort</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'unsubscribe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Alternativamente, puedes asignar el middleware <code>Illuminate\Routing\Middleware\ValidateSignature</code> a la ruta. Si aún no está presente, debes asignar una clave a este middleware en el arreglo <code>routeMiddleware</code> de tu kernel HTTP:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token comment">/**
* The application's route middleware.
*
* These middleware may be assigned to groups or used individually.
*
* @var array
*/</span>
<span class="token keyword">protected</span> <span class="token variable">$routeMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'signed'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \<span class="token package">Illuminate<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>ValidateSignature</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Una vez que has registrado el middleware en tu kernel, puedes adjuntarlo a una ruta. Si la solicitud entrante no tiene una firma válida, el middleware automáticamente retornará una respuesta de error <code>403</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/unsubscribe/{user}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'unsubscribe'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'signed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="urls-for-controller-actions"></a></p> <h2 id="urls-para-acciones-de-controlador"><a class="header-anchor" href="#urls-para-acciones-de-controlador" aria-hidden="true">#</a> URLs para acciones de controlador</h2> <p>La función <code>action</code> genera una URL para la acción de controlador dada. No necesitarás pasar el espacio de nombre completo del controlador. En lugar de eso, pasa el nombre de clase del controlador relativo al espacio de nombre <code>App\Http\Controllers</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'HomeController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>También puedes hacer referencia a acciones con una sintaxis de arreglo &quot;callable&quot;:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>HomeController</span><span class="token punctuation">;</span>

<span class="token variable">$url</span> <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">[</span>HomeController<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Si el método del controlador acepta parámetros de ruta, puedes pasarlos como segundo argumento de la función:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'UserController@profile'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="default-values"></a></p> <h2 id="valores-predeterminados"><a class="header-anchor" href="#valores-predeterminados" aria-hidden="true">#</a> Valores predeterminados</h2> <p>Para algunas aplicaciones, puedes querer especificar valores predeterminados para toda la solicitud en los parámetros de ciertas URL. Por ejemplo, imagina que muchas de tus rutas definen un parámetro <code>{locale}</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/{locale}/posts'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Es complicado pasar siempre el parámetro <code>locale</code> cada vez que ejecutas el helper <code>route</code>. Así, puedes usar el método <code>URL::defaults</code> para definir un valor predeterminado para este parámetro que siempre será aplicado durante la solicitud actual. Puedes querer ejecutar este método desde un <router-link to="/middleware.html#assigning-middleware-to-routes">middleware de ruta</router-link> de modo que tengas acceso a la solicitud actual:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Closure</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>URL</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SetDefaultLocaleForUrls</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> Closure <span class="token variable">$next</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token constant">URL</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">defaults</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'locale'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">locale</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Una vez que el valor predeterminado para el parámetro <code>locale</code> ha sido establecido, ya no estás obligado a pasar su valor al momento de generar URLs por medio del helper <code>route</code>.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/views.html" class="prev">Vistas</a></span> <span class="next"><a href="/session.html">Sesión HTTP</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26ba176e.js" defer></script><script src="/assets/js/2.95e30eca.js" defer></script><script src="/assets/js/82.870cf913.js" defer></script>
  </body>
</html>
