<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentación de Laravel en español</title>
    <meta name="description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:300,700|Miriam+Libre">
  <link rel="icon" href="/favicon.png">
  <meta property="og:url" content="https://documentacion-laravel.com">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Documentación de Laravel en español">
  <meta property="og:description" content="Traducción no oficial de la documentación de Laravel 6.* al español">
  <meta property="og:image" content="https://documentacion-laravel.com/social-preview.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.4351809d.css" as="style"><link rel="preload" href="/assets/js/app.a57d190f.js" as="script"><link rel="preload" href="/assets/js/2.e67066b3.js" as="script"><link rel="preload" href="/assets/js/63.5779c09b.js" as="script"><link rel="prefetch" href="/assets/js/10.10de5add.js"><link rel="prefetch" href="/assets/js/11.74321cea.js"><link rel="prefetch" href="/assets/js/12.f9b2b91e.js"><link rel="prefetch" href="/assets/js/13.0712523b.js"><link rel="prefetch" href="/assets/js/14.1068565f.js"><link rel="prefetch" href="/assets/js/15.6273127e.js"><link rel="prefetch" href="/assets/js/16.b06d4e52.js"><link rel="prefetch" href="/assets/js/17.f6bc9d43.js"><link rel="prefetch" href="/assets/js/18.1279d62b.js"><link rel="prefetch" href="/assets/js/19.0a90aac9.js"><link rel="prefetch" href="/assets/js/20.d5aaa53c.js"><link rel="prefetch" href="/assets/js/21.2b9249f4.js"><link rel="prefetch" href="/assets/js/22.81cf6b08.js"><link rel="prefetch" href="/assets/js/23.9ec2a77d.js"><link rel="prefetch" href="/assets/js/24.3dcf2ed7.js"><link rel="prefetch" href="/assets/js/25.e40b7ddb.js"><link rel="prefetch" href="/assets/js/26.9233a459.js"><link rel="prefetch" href="/assets/js/27.9cd0f156.js"><link rel="prefetch" href="/assets/js/28.b9f60f5a.js"><link rel="prefetch" href="/assets/js/29.e7d779f7.js"><link rel="prefetch" href="/assets/js/3.a942415a.js"><link rel="prefetch" href="/assets/js/30.211adee7.js"><link rel="prefetch" href="/assets/js/31.1e1292bf.js"><link rel="prefetch" href="/assets/js/32.8b1944f0.js"><link rel="prefetch" href="/assets/js/33.9c85a092.js"><link rel="prefetch" href="/assets/js/34.d1e212be.js"><link rel="prefetch" href="/assets/js/35.13f760d4.js"><link rel="prefetch" href="/assets/js/36.18824428.js"><link rel="prefetch" href="/assets/js/37.6d4a4552.js"><link rel="prefetch" href="/assets/js/38.3d83d67f.js"><link rel="prefetch" href="/assets/js/39.d2690f45.js"><link rel="prefetch" href="/assets/js/4.39fdedbb.js"><link rel="prefetch" href="/assets/js/40.10fbdf44.js"><link rel="prefetch" href="/assets/js/41.8d3b8b3d.js"><link rel="prefetch" href="/assets/js/42.a37d8fda.js"><link rel="prefetch" href="/assets/js/43.37e00919.js"><link rel="prefetch" href="/assets/js/44.1981c23f.js"><link rel="prefetch" href="/assets/js/45.7673f3cd.js"><link rel="prefetch" href="/assets/js/46.a8c9fb31.js"><link rel="prefetch" href="/assets/js/47.9f132657.js"><link rel="prefetch" href="/assets/js/48.40be04e0.js"><link rel="prefetch" href="/assets/js/49.cd3eeb84.js"><link rel="prefetch" href="/assets/js/5.a127987e.js"><link rel="prefetch" href="/assets/js/50.d320499b.js"><link rel="prefetch" href="/assets/js/51.f28f3458.js"><link rel="prefetch" href="/assets/js/52.0987aab2.js"><link rel="prefetch" href="/assets/js/53.22858505.js"><link rel="prefetch" href="/assets/js/54.1640a02c.js"><link rel="prefetch" href="/assets/js/55.6d016b57.js"><link rel="prefetch" href="/assets/js/56.9d216d45.js"><link rel="prefetch" href="/assets/js/57.21b2930d.js"><link rel="prefetch" href="/assets/js/58.0a600821.js"><link rel="prefetch" href="/assets/js/59.dd928716.js"><link rel="prefetch" href="/assets/js/6.374f07b8.js"><link rel="prefetch" href="/assets/js/60.f6dadec9.js"><link rel="prefetch" href="/assets/js/61.055c88f4.js"><link rel="prefetch" href="/assets/js/62.9046c5ee.js"><link rel="prefetch" href="/assets/js/64.3e14192d.js"><link rel="prefetch" href="/assets/js/65.3ba2e484.js"><link rel="prefetch" href="/assets/js/66.d498ce2e.js"><link rel="prefetch" href="/assets/js/67.697d8933.js"><link rel="prefetch" href="/assets/js/68.f44f0368.js"><link rel="prefetch" href="/assets/js/69.5f7fb4dc.js"><link rel="prefetch" href="/assets/js/7.ee4b165b.js"><link rel="prefetch" href="/assets/js/70.ca55d71b.js"><link rel="prefetch" href="/assets/js/71.a9851a8b.js"><link rel="prefetch" href="/assets/js/72.6031f2fd.js"><link rel="prefetch" href="/assets/js/73.e9498feb.js"><link rel="prefetch" href="/assets/js/74.918f7b62.js"><link rel="prefetch" href="/assets/js/75.8e166429.js"><link rel="prefetch" href="/assets/js/76.8702c0a7.js"><link rel="prefetch" href="/assets/js/77.21c986dc.js"><link rel="prefetch" href="/assets/js/78.78d75b6a.js"><link rel="prefetch" href="/assets/js/79.e21f55be.js"><link rel="prefetch" href="/assets/js/8.4be1294c.js"><link rel="prefetch" href="/assets/js/80.6b3cb542.js"><link rel="prefetch" href="/assets/js/81.db43481f.js"><link rel="prefetch" href="/assets/js/82.8c06c808.js"><link rel="prefetch" href="/assets/js/83.1938ad09.js"><link rel="prefetch" href="/assets/js/84.e8f3e937.js"><link rel="prefetch" href="/assets/js/85.9bdc4790.js"><link rel="prefetch" href="/assets/js/86.b328674e.js"><link rel="prefetch" href="/assets/js/9.43affdd4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4351809d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentación de Laravel en español</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="/documentation.html" class="nav-link">Índice</a></div><div class="nav-item"><a href="/glossary.html" class="nav-link">Glosario</a></div><div class="nav-item"><a href="/credits.html" class="nav-link">Créditos</a></div><div class="nav-item"><a href="/descargar-documentacion.html" class="nav-link">Descargar documentación</a></div><div class="nav-item"><a href="https://v5.documentacion-laravel.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentación de Laravel 5.8
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://styde.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Styde
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primeros pasos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Conceptos de arquitectura</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/lifecycle.html" class="sidebar-link">Ciclo de vida de la solicitud</a></li><li><a href="/container.html" class="sidebar-link">Contenedor de servicios</a></li><li><a href="/providers.html" class="active sidebar-link">Proveedores de Servicios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/providers.html#introduccion" class="sidebar-link">Introducción</a></li><li class="sidebar-sub-header"><a href="/providers.html#escribiendo-proveedores-de-servicios" class="sidebar-link">Escribiendo proveedores de servicios</a></li><li class="sidebar-sub-header"><a href="/providers.html#registrando-proveedores" class="sidebar-link">Registrando proveedores</a></li><li class="sidebar-sub-header"><a href="/providers.html#proveedores-diferidos" class="sidebar-link">Proveedores diferidos</a></li></ul></li><li><a href="/facades.html" class="sidebar-link">Facades</a></li><li><a href="/contracts.html" class="sidebar-link">Contratos</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Fundamentos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Seguridad</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Profundizando</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bases de datos</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ORM Eloquent</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pruebas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paquetes oficiales</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="proveedores-de-servicios"><a class="header-anchor" href="#proveedores-de-servicios">#</a> Proveedores de Servicios</h1> <ul><li><a href="#introduction">Introducción</a></li> <li><a href="#writing-service-providers">Escribiendo proveedores de servicios</a> <ul><li><a href="#the-register-method">Método register</a></li> <li><a href="#the-boot-method">Método boot</a></li></ul></li> <li><a href="#registering-providers">Registrando proveedores</a></li> <li><a href="#deferred-providers">Proveedores diferidos</a></li></ul> <p><a name="introduction"></a></p> <h2 id="introduccion"><a class="header-anchor" href="#introduccion">#</a> Introducción</h2> <p>Los proveedores de servicios son la parte central de la maquetación de una aplicación Laravel. Tu propia aplicación, así como todos los servicios principales de Laravel son maquetados usando proveedores de servicios.</p> <p>Pero, ¿qué queremos decir por &quot;maquetación&quot;? En general, nos referimos a <strong>registrar</strong> cosas, incluyendo registrar enlaces de contenedores de servicios, listeners de eventos, middleware e incluso rutas. Los proveedores de servicios son el lugar principal para configurar tu aplicación.</p> <p>Si abres el archivo <code>config/app.php</code> incluido con Laravel, verás un arreglo <code>providers</code>. Estos son todos los proveedores de servicio que serán cargados para tu aplicación. Observa que muchos de éstos son proveedores &quot;diferidos&quot;, lo que significa que no serán cargados en cada solicitud, sino sólo cuando los servicios que proporcionan sean necesarios.</p> <p>En este resumen aprendarás a escribir tus propios proveedores de servicio y registrarlos en tu aplicación de Laravel.</p> <p><a name="writing-service-providers"></a></p> <h2 id="escribiendo-proveedores-de-servicios"><a class="header-anchor" href="#escribiendo-proveedores-de-servicios">#</a> Escribiendo proveedores de servicios</h2> <p>Todos los proveedores de servicios extienden de la clase <code>Illuminate\Support\ServiceProvider</code>. La mayoría de los proveedores de servicio contienen un método <code>register</code> y <code>boot</code>. Dentro del método <code>register</code>, debes <strong>enlazar cosas sólo al <router-link to="/container.html">contenedor de servicios</router-link></strong>. Nunca debes tratar de registrar ningún listener de eventos, rutas o cualquier otra pieza de funcionalidad dentro del método <code>register</code>.</p> <p>La línea de comandos Artisan puede generar un nuevo proveedor mediante el comando <code>make:provider</code>:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code>php artisan make<span class="token punctuation">:</span>provider RiakServiceProvider
</code></pre></div><p><a name="the-register-method"></a></p> <h3 id="metodo-register"><a class="header-anchor" href="#metodo-register">#</a> Método register</h3> <p>Como mencionamos anteriormente, dentro del método <code>register</code>, debes sólo enlazar cosas al <router-link to="/container.html">contenedor de servicio</router-link>. Nunca debes intentar registrar ningún listener de eventos, rutas o cualquier otra pieza de funcionalidad dentro del método <code>register</code>. De lo contrario, puedes accidentalmente usar un servicio que es proporcionado por un proveedor de servicio que no aún no  se ha cargado.</p> <p>Vamos a echar un vistazo a un proveedor de servicio básico. Dentro de cualquiera de los métodos de tu proveedor de servicios, siempre tienes acceso a la propiedad <code>$app</code> que proporciona acceso al contenedor de servicios:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Riak<span class="token punctuation">\</span>Connection</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">RiakServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Register bindings in the container.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">singleton</span><span class="token punctuation">(</span>Connection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Connection</span><span class="token punctuation">(</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'riak'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Este proveedor de servicios sólo define un método <code>register</code> y usa dicho método para definir una implementación de <code>Riak\Connection</code> en el contenedor de servicios. Si no entiendes cómo el contenedor de servicios funciona, revisa <router-link to="/container.html">su documentación</router-link>.</p> <h4 id="propiedades-bindings-y-singletons"><a class="header-anchor" href="#propiedades-bindings-y-singletons">#</a> Propiedades <code>bindings</code> y <code>singletons</code></h4> <p>Si tu proveedor de servicios registra muchos bindings simples, puedes querer usar las propiedades <code>bindings</code> y <code>singletons</code> en lugar de manualmente registrar cada binding de contenedor. Cuando el proveedor de servicios es cargado por el framework, automáticamente comprobará dichas propiedades y registrará sus bindings:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>DowntimeNotifier</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>ServerProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Services<span class="token punctuation">\</span>DigitalOceanServerProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Services<span class="token punctuation">\</span>PingdomDowntimeNotifier</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Services<span class="token punctuation">\</span>ServerToolsProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AppServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * All of the container bindings that should be registered.
    *
    * @var array
    */</span>
    <span class="token keyword">public</span> <span class="token variable">$bindings</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        ServerProvider<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token operator">=</span><span class="token operator">&gt;</span> DigitalOceanServerProvider<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">/**
    * All of the container singletons that should be registered.
    *
    * @var array
    */</span>
    <span class="token keyword">public</span> <span class="token variable">$singletons</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        DowntimeNotifier<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token operator">=</span><span class="token operator">&gt;</span> PingdomDowntimeNotifier<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        ServerToolsProvider<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token operator">=</span><span class="token operator">&gt;</span> ServerToolsProvider<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p><a name="the-boot-method"></a></p> <h3 id="metodo-boot"><a class="header-anchor" href="#metodo-boot">#</a> Método boot</h3> <p>Entonces, ¿qué sucede si necesitamos registrar un <router-link to="/views.html#view-composers">view composer</router-link> dentro de nuestro proveedor de servicios? Esto debería ser hecho dentro del método <code>boot</code>. <strong>Este método es llamado luego de que todos los demás proveedores de servicio sean registrados</strong>, lo que quiere decir que tienes acceso a todos los demás proveedores de servicio que han sido registrados por el framework:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ComposerServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Bootstrap any application services.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">composer</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'view'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h4 id="inyeccion-de-dependencias-en-el-metodo-boot"><a class="header-anchor" href="#inyeccion-de-dependencias-en-el-metodo-boot">#</a> Inyección de dependencias en el método boot</h4> <p>Puedes escribir manualmente las dependencias para el método <code>boot</code> de tu proveedor de servicios. El <router-link to="/container.html">contenedor de servicios</router-link> inyectará automáticamente cualquier dependencia que necesites:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>ResponseFactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span>ResponseFactory <span class="token variable">$response</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">macro</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'caps'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="registering-providers"></a></p> <h2 id="registrando-proveedores"><a class="header-anchor" href="#registrando-proveedores">#</a> Registrando proveedores</h2> <p>Todos los proveedores de servicios son registrados en el archivo de configuración <code>config/app.php</code>. Este archivo contiene un arreglo <code>providers</code> donde puedes listar los nombres de clase de tus proveedores de servicios. Por defecto, una serie de proveedores de servicios principales de Laravel son listados en este arreglo. Estos proveedores maquetan los componentes principales de Laravel, como mailer, queue, cache entre otros.</p> <p>Para registrar tu proveedor, agregalo al arreglo:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token single-quoted-string string">'providers'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
    <span class="token comment">// Other Service Providers</span>

    App\<span class="token package">Providers<span class="token punctuation">\</span>ComposerServiceProvider</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p><a name="deferred-providers"></a></p> <h2 id="proveedores-diferidos"><a class="header-anchor" href="#proveedores-diferidos">#</a> Proveedores diferidos</h2> <p>Si tu proveedor <strong>sólo</strong> está registrando enlaces en el <router-link to="/container.html">contenedor de servicios</router-link>, puedes elegir diferir su registro hasta que uno de los enlaces registrados sea necesario. Diferir la carga de dicho proveedor mejorará el rendimiento de tu aplicación, ya que no es cargado desde el sistema de archivos en cada solicitud.</p> <p>Laravel compila y almacena una lista de todos los servicios suministrados por proveedores de servicios diferidos, junto con el nombre de clase de su proveedor de servicio. Luego, sólo cuando intentas resolver uno de estos servicios Laravel carga el proveedor de servicio.</p> <p>Para diferir la carga de un proveedor, Implementa la interfaz <code>\Illuminate\Contracts\Support\DeferrableProvider</code> y define un método <code>provides</code>. El método <code>provides</code> debe retornar los enlaces del contenedor de servicio registrados por el proveedor:</p> <div class="language-php extra-class"><pre v-pre="" class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Providers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>DeferrableProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Riak<span class="token punctuation">\</span>Connection</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">RiakServiceProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceProvider</span> <span class="token keyword">implements</span> <span class="token class-name">DeferrableProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Register the service provider.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">singleton</span><span class="token punctuation">(</span>Connection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Connection</span><span class="token punctuation">(</span><span class="token variable">$app</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'riak'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Get the services provided by the provider.
    *
    * @return array
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">provides</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>Connection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/container.html" class="prev">Contenedor de servicios</a></span> <span class="next"><a href="/facades.html">Facades</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a57d190f.js" defer></script><script src="/assets/js/2.e67066b3.js" defer></script><script src="/assets/js/63.5779c09b.js" defer></script>
  </body>
</html>
