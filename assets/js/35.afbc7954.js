(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{424:function(e,a,t){"use strict";t.r(a);var s=t(42),n=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("div",{pre:!0},[t("h1",{pre:!0,attrs:{id:"manejo-de-errores"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#manejo-de-errores"}},[e._v("#")]),e._v(" Manejo de Errores")]),e._v(" "),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#introduction"}},[e._v("Introducción")])]),e._v(" "),t("li",[t("a",{pre:!0,attrs:{href:"#configuration"}},[e._v("Configuración")])]),e._v(" "),t("li",[t("a",{pre:!0,attrs:{href:"#the-exception-handler"}},[e._v("Manejador de excepciones")]),e._v(" "),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#report-method"}},[e._v("Método report")])]),e._v(" "),t("li",[t("a",{pre:!0,attrs:{href:"#render-method"}},[e._v("Método render")])]),e._v(" "),t("li",[t("a",{pre:!0,attrs:{href:"#renderable-exceptions"}},[e._v("Excepciones renderizables y reportables")])])])]),e._v(" "),t("li",[t("a",{pre:!0,attrs:{href:"#http-exceptions"}},[e._v("Excepciones HTTP")]),e._v(" "),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#custom-http-error-pages"}},[e._v("Páginas de error HTTP personalizadas")])])])])]),e._v(" "),t("p",[t("a",{pre:!0,attrs:{name:"introduction"}})]),e._v(" "),t("h2",{pre:!0,attrs:{id:"introduccion"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#introduccion"}},[e._v("#")]),e._v(" Introducción")]),e._v(" "),t("p",[e._v("Cuando comienzas un nuevo proyecto de Laravel, el manejo de excepciones y errores ya está configurado para ti. La clase "),t("code",[e._v("App\\Exceptions\\Handler")]),e._v(" es donde todas las excepciones disparadas por tu aplicación son registradas y después renderizadas de vuelta al usuario. Revisaremos más profundamente dentro de esta clase a través de esta documentación.")]),e._v(" "),t("p",[t("a",{pre:!0,attrs:{name:"configuration"}})]),e._v(" "),t("h2",{pre:!0,attrs:{id:"configuracion"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#configuracion"}},[e._v("#")]),e._v(" Configuración")]),e._v(" "),t("p",[e._v("La opción "),t("code",[e._v("debug")]),e._v(" en tu archivo de configuración "),t("code",[e._v("config/app.php")]),e._v(" determina cuanta información sobre un error se muestra realmente al usuario. Por defecto, esta opción es establecida para respetar el valor de la variable de entorno "),t("code",[e._v("APP_DEBUG")]),e._v(", la cual es almacenada en tu archivo "),t("code",[e._v(".env")]),e._v(".")]),e._v(" "),t("p",[e._v("Para desarrollo local, deberías establecer la variable de entorno "),t("code",[e._v("APP_DEBUG")]),e._v(" a "),t("code",[e._v("true")]),e._v(". En tu entorno de producción, este valor debería estar siempre "),t("code",[e._v("false")]),e._v(". Si el valor es establecido a "),t("code",[e._v("true")]),e._v(" en producción, te arriesgas a exponer valores de configuración sensibles a los usuarios finales de tu aplicación.")]),e._v(" "),t("p",[t("a",{pre:!0,attrs:{name:"the-exception-handler"}})]),e._v(" "),t("h2",{pre:!0,attrs:{id:"manejador-de-excepciones"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#manejador-de-excepciones"}},[e._v("#")]),e._v(" Manejador de excepciones")]),e._v(" "),t("p",[t("a",{pre:!0,attrs:{name:"report-method"}})]),e._v(" "),t("h3",{pre:!0,attrs:{id:"metodo-report"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#metodo-report"}},[e._v("#")]),e._v(" Método report")]),e._v(" "),t("p",[e._v("Todas las excepciones son manejadas por la clase "),t("code",[e._v("App\\Exceptions\\Handler")]),e._v(". Esta clase contiene dos métodos: "),t("code",[e._v("report")]),e._v(" y "),t("code",[e._v("render")]),e._v(". Examinaremos cada uno de estos métodos en detalle. El método "),t("code",[e._v("report")]),e._v(" se usa para registrar excepciones o enviarlas a un servicio externo como "),t("a",{pre:!0,attrs:{href:"https://flareapp.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flare"),t("OutboundLink",{pre:!0})],1),e._v(", "),t("a",{pre:!0,attrs:{href:"https://bugsnag.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bugsnag"),t("OutboundLink",{pre:!0})],1),e._v(" o "),t("a",{pre:!0,attrs:{href:"https://github.com/getsentry/sentry-laravel",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sentry"),t("OutboundLink",{pre:!0})],1),e._v(". De forma predeterminada, el método "),t("code",[e._v("report")]),e._v(" pasa la excepción a la clase base donde la excepción es registrada. Sin embargo, eres libre de registrar excepciones en la forma que desees.")]),e._v(" "),t("p",[e._v("Por ejemplo, si necesitas reportar distintos tipos de excepciones en diferentes formas, puedes usar el operador de comparación "),t("code",[e._v("instanceof")]),e._v(" de PHP:")]),e._v(" "),t("div",{pre:!0,attrs:{class:"language-php extra-class"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n* Report or log an exception.\n*\n* This is a great spot to send exceptions to Flare, Sentry, Bugsnag, etc.\n*\n* @param  \\Exception  $exception\n* @return void\n*/")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("report")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Exception "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("instanceof")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("CustomException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("parent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("report")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("div",{pre:!0,attrs:{class:"custom-block tip"}},[t("p",{pre:!0,attrs:{class:"custom-block-title"}},[e._v("TIP")]),e._v(" "),t("p",[e._v("En lugar de hacer uso de muchos "),t("code",[e._v("instanceof")]),e._v(" en tu método "),t("code",[e._v("report")]),e._v(", considera usar "),t("RouterLink",{pre:!0,attrs:{to:"/errors.html#renderable-exceptions"}},[e._v("excepciones reportables")])],1)])]),t("h4",{attrs:{id:"contexto-de-log-global"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contexto-de-log-global"}},[e._v("#")]),e._v(" Contexto de log global")]),e._v(" "),t("p",[e._v("De estar disponible, Laravel automáticamente agrega el ID del usuario actual al mensaje de log de cada excepción como datos contextuales. Puedes definir tus propios datos contextuales globales sobrescribiendo el método "),t("code",[e._v("context")]),e._v(" de la clase "),t("code",[e._v("App\\Exceptions\\Handler")]),e._v(" de tu aplicación. Esta información será incluida en cada mensaje de log de excepción escrito por tu aplicación:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n* Get the default context variables for logging.\n*\n* @return array\n*/")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("protected")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("context")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("array_merge")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("parent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("context")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'foo'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'bar'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"helper-report"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#helper-report"}},[e._v("#")]),e._v(" Helper "),t("code",[e._v("report")])]),e._v(" "),t("p",[e._v("Algunas veces puede que necesites reportar una excepción, pero continuar manejando la solicitud actual. La función helper "),t("code",[e._v("report")]),e._v(" permite que reportes rápidamente una excepción usando el método "),t("code",[e._v("report")]),e._v(" de tu manejador de excepciones sin renderizar una página de error:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("isValid")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("try")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Validate the value...")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("catch")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Exception "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$e")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("report")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$e")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean constant"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"ignorando-excepciones-por-tipo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ignorando-excepciones-por-tipo"}},[e._v("#")]),e._v(" Ignorando excepciones por tipo")]),e._v(" "),t("p",[e._v("La propiedad "),t("code",[e._v("$dontReport")]),e._v(" del manejador de excepción contiene un arreglo de tipos de excepción que no serán registrados. Por ejemplo, excepciones que resulten de errores 404, al igual que otros varios tipos de errores, no son escritos a tus archivos de log. Puedes agregar otros tipos de excepción a este arreglo cuando lo necesites:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n* A list of the exception types that should not be reported.\n*\n* @var array\n*/")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("protected")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$dontReport")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    \\"),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AuthenticationException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    \\"),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Access"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AuthorizationException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    \\"),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("HttpKernel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Exception"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("HttpException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    \\"),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Database"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Eloquent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("ModelNotFoundException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    \\"),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Validation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("ValidationException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[t("a",{attrs:{name:"render-method"}})]),e._v(" "),t("h3",{attrs:{id:"metodo-render"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#metodo-render"}},[e._v("#")]),e._v(" Método render")]),e._v(" "),t("p",[e._v("El método "),t("code",[e._v("render")]),e._v(" es responsable de convertir una excepción dada en una respuesta HTTP que debería ser devuelta al navegador. De forma predeterminada, la excepción es pasada a la clase base la cual genera una respuesta para ti. Sin embargo, eres libre de revisar el tipo de excepción o devolver tu propia respuesta personalizada:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n* Render an exception into an HTTP response.\n*\n* @param  \\Illuminate\\Http\\Request  $request\n* @param  \\Exception  $exception\n* @return \\Illuminate\\Http\\Response\n*/")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$request")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" Exception "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("instanceof")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("CustomException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("response")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("view")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'errors.custom'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("parent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$request")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[t("a",{attrs:{name:"renderable-exceptions"}})]),e._v(" "),t("h3",{attrs:{id:"excepciones-renderizables-y-reportables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#excepciones-renderizables-y-reportables"}},[e._v("#")]),e._v(" Excepciones renderizables y reportables")]),e._v(" "),t("p",[e._v("En lugar de hacer verificaciones por tipo de excepciones en los métodos "),t("code",[e._v("report")]),e._v(" y "),t("code",[e._v("render")]),e._v(" del manejador de excepciones, puedes definir métodos "),t("code",[e._v("report")]),e._v(" y "),t("code",[e._v("render")]),e._v(" directamente en tu excepción personalizada. Cuando estos métodos existen, serán ejecutados automáticamente por el framework:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[e._v("<?php")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("namespace")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("App"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Exceptions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[e._v("Exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("RenderException")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Exception")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n    * Report the exception.\n    *\n    * @return void\n    */")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("report")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n    * Render the exception into an HTTP response.\n    *\n    * @param  \\Illuminate\\Http\\Request  $request\n    * @return \\Illuminate\\Http\\Response\n    */")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$request")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("response")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("Puedes declarar el tipo de cualquier dependencia requerida en el método "),t("code",[e._v("report")]),e._v(" y el "),t("RouterLink",{attrs:{to:"/container.html"}},[e._v("contenedor de servicios")]),e._v(" de Laravel las inyectará automáticamente en el método.")],1)]),e._v(" "),t("p",[t("a",{attrs:{name:"http-exceptions"}})]),e._v(" "),t("h2",{attrs:{id:"excepciones-http"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#excepciones-http"}},[e._v("#")]),e._v(" Excepciones HTTP")]),e._v(" "),t("p",[e._v('Algunas excepciones describen códigos de error HTTP del servidor. Por ejemplo, esto puede ser un error "página no encontrada" (404), un "error no autorizado" (401) o incluso un error 500 generado por el desarrollador. Con el propósito de generar tal respuesta desde cualquier lugar en tu aplicación, puedes usar el helper '),t("code",[e._v("abort")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("abort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("404")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[e._v("El helper "),t("code",[e._v("abort")]),e._v(" provocará inmediatamente una excepción la cual será renderizada por el manejador de excepción. Opcionalmente, puedes proporcionar el texto de la respuesta:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("abort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("403")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'Unauthorized action.'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[t("a",{attrs:{name:"custom-http-error-pages"}})]),e._v(" "),t("h3",{attrs:{id:"paginas-de-error-http-personalizadas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paginas-de-error-http-personalizadas"}},[e._v("#")]),e._v(" Páginas de error HTTP personalizadas")]),e._v(" "),t("p",[e._v("Laravel hace fácil mostrar páginas de error personalizadas para varios códigos de estado HTTP. Por ejemplo, si deseas personalizar la página de error para los códigos de estado HTTP 404, crea una vista "),t("code",[e._v("resources/views/errors/404.blade.php")]),e._v(". Este archivo será servido en todos los errores 404 generados por tu aplicación. La vista dentro de este directorio debería ser nombrada para coincidir con el código de estado HTTP que les corresponde. La instancia "),t("code",[e._v("HttpException")]),e._v(" provocada por la función "),t("code",[e._v("abort")]),e._v(" será pasada a la vista como una variable "),t("code",[e._v("$exception")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("h2"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$exception")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("getMessage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("h2"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("p",[e._v("Puedes publicar las plantillas de página de error de Laravel usando el comando de Artisan "),t("code",[e._v("vender:publish")]),e._v(". Una vez que las plantillas han sido publicadas, puedes personalizarlas de la forma que quieras:")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[e._v("php artisan vendor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("publish "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("tag"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("laravel"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("errors\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);